{"version":3,"sources":["data/flat_seo3-24-512.png","data/seen-300x225.webp","data/V-512.png","data/38-383271_excel-logo-png-microsoft-excel-logo-transparent-png.png","data/Save_Excel_Icon.jpg","data/icons8-delete-message-26.png","data/1c7be669e68d05366ad16b7d2b40333b-diamond-gemstone-black-icon-by-vexels.png","data/Shapes.png","data/delete-1507091-1279000.png","data/l8cb11pkn10.jpg","components/HomePageBody.js","Classes/Message.js","components/DiamondNavbar.js","pages/home.js","Classes/User.js","components/UserMessages.js","pages/messages.js","Classes/Diamond.js","components/ListOfLinks.js","components/AddNewDiamond.js","components/ShowDiamond.js","components/Slider.js","components/SearchDiamondForm.js","components/SendMessageModal.js","components/SendOfferModal.js","components/DiamondsList.js","pages/search.js","pages/LoginPage.js","pages/Signup.js","components/PaymentForm.js","pages/ShoppingCart.js","pages/About.js","pages/Load.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","HomePageBody","Carousel","Item","className","src","alt","Caption","React","Component","Message","parseMessage","this","id","from","get","to","text","createdAt","read","deleted","recieved","usersMessages","user","allMessages","fromUser","result","new","last","messages","forEach","message","push","DiamondNavbar","props","state","redirectToHome","logout","bind","handleLogout","window","location","hash","setState","itemsInCart","pic","activeUser","cart","signupLink","Nav","Link","href","loginLink","logoutLink","onClick","Image","style","width","roundedCircle","fname","newMessages","myBadge","Badge","pill","variant","length","Navbar","bg","expand","Brand","diamondLogo","Toggle","aria-controls","Collapse","basket","Home","Container","User","parseUser","lname","email","username","isLogin","lastLogout","userDetails","allUsers","i","parseDateTime","dateTime","min","answer","today","Date","getFullYear","getMonth","getDate","getHours","getMinutes","UserMessages","filter","substring","conv","scrollTop","scrollHeight","messageRead","theSender","messageDate","addMessage","deleteMessage","markDeleted","showConversation","index","Row","Col","xl","lg","md","sm","xs","display","color","e","target","height","marginLeft","marginRight","deleteImg","recievedMessage","hidden","readMessage","fontSize","ref","element","InputGroup","FormControl","value","onChange","event","placeholder","aria-label","aria-describedby","Append","Button","Messages","filterUsers","compareFunction","a","b","lastMessageRecieved","redirectTo","listUsers","allUsersSorted","userMessages","sort","toLowerCase","includes","ListGroup","key","border","redirectToUserMessage","Diamond1","diamond","lotID","shape","weight","clarity","cut","polish","symmetry","fluorescence","fluorescenceColor","lab","certificateNumber","depth","table","crownAngle","crownHeight","pocrownHeightlish","pavillionAngle","pavillionAnglecut","pavillionDepth","starLength","lowerHalf","girdle","culet","list","listPrice","priceList","response","body","price","discount","pricePerCarat","links","inclusions","owner","keepDiscount","diamMin","diamMax","deptAvg","pic1","file","name","url","pic2","colorMin","colorMax","clarityValue","clarityMin","clarityMax","weightMin","weightMax","ListOfLinks","parse","margin","alignItems","justifyContent","deleteLink","AddDiamond","toggle","modal","handleClose","detectMouse","cx","clientX","document","clientWidth","modalWidth","getElementById","offsetWidth","ratio","disableSave","getCertNum","certNumInput","getLotId","textInput","focus","getLab","getWCC","Number","weightInput","colorInput","clarityInput","prices","getOther","cutInput","polishInput","symmetryInput","fluorescenceInput","fluorescenceColorInput","depthInput","tableInput","girdleInput","culetInput","crownAngleInput","crownHeightInput","pavillionAngleInput","pavillionDepthInput","lowerHalfInput","getPrices","checkInput","Math","round","discountInput","priceInput","prepareLink","linktoAdd","linkToAddInput","addLink","newState","newArr","splice","imgChange","ev","diamondImg","files","URL","createObjectURL","nextPage","page","previousPage","saveDiamond","edit","myListings","setFilter","diamonds","nextProps","cancelEdit","Modal","Body","defaultValue","diamondsShape","rounded","Form","Group","controlId","Label","Control","as","column","Check","type","label","checked","data-id","accept","fluid","position","left","top","excel","size","show","onHide","animation","Header","closeButton","Title","Footer","disabled","ShowDiamond","bgColorClass","pics","description","Accordion","defaultActiveKey","backgroundColor","Card","eventKey","floor","toFixed","ownerName","measurements","children","HorizontalColorSlider","marks","max","classes","makeStyles","root","useStyles","clearColorFilter","clearClarityFilter","Fragment","Typography","gutterBottom","Slider","onChangeCommitted","val","change","orientation","aria-labelledby","getAriaValueText","num2color","num2clarity","SearchDiamondForm","toggleChoice","innerHTML","toggleAll","tglAll","setMinWeight","filter1","setMaxWeight","setColorFilter","setClarityFilter","clearTheFilter","clearFilter","br","ov","ps","mq","hs","pri","rad","em","cu","tri","asher","borderRadius","marginTop","marginBottom","Feedback","SendMessageModal","close","contactSeller","showLotId","showOwnerId","centered","rows","Alert","SendOfferModal","showPrice","DiamondList","toggleOffer","modalOffer","deleteDiamond","editDiamond","showAlert","hideAlert","setInterval","inFilter","ButtonToolbar","addToCart","Search","require","default","atEdit","console","log","diamondArr","myNewObject","Parse","Object","extend","set","current","File","save","then","concat","error","Diamond","Query","object","destroy","isLoading","newDiamond","find","diamondsParse","addEdit","LoginPage","invalidLogin","successLogin","emailInput","createRef","pwdInput","login","logIn","User1","handleLogin","catch","Text","block","SignupPage","signup","image","userInput","lnameInput","fnameInput","signUp","PaymentForm","cvc","expiry","number","handleInputFocus","handleInputChange","Jumbotron","onFocus","ShoppingCart","diamondsInCart","results","lineTotal","total","deleteFromCart","tableLines","caratTotal","priceAVG","deleteFromCartIcon","fontWeight","Table","striped","bordered","hover","About","excelTemplet","messagearrived","messageread","cartIcon","LoadExcel","loadExcelFile","excelRows","headers","header","log1","input","readXlsxFile","getValues","parseInt","upload","headerKeys","keys","row","toString","downloadTemplet","zipcelx","filename","sheet","data","opacity","pointerEvents","excelIcon","right","low_size","high_size","caratprice","App","getMessages","parseActive","parseMessages","query1","equalTo","query2","composedQuery","or","count","skip","message1","userId","fromID","toID","User2","from1","to1","query","diamondId","item","indexOf","users","logOut","ownerD","j","exact","path","Signup","Boolean","hostname","match","serverURL","initialize","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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tK,MAAM,WACRsK,KAAM,UACL,CACCtK,MAAM,eACRsK,KAAM,UACL,CACCtK,MAAM,oBACRsK,KAAM,UACL,CACCtK,MAAM,SACRsK,KAAM,UACL,CACCtK,MAAM,MACRsK,KAAM,UACL,CACCtK,MAAM,QACRsK,KAAM,UACL,CACCtK,MAAM,YACRsK,KAAM,UACL,CACCtK,MAAM,iBACRsK,KAAM,UACL,CACCtK,MAAM,iBACRsK,KAAM,UACL,CACCtK,MAAM,SACRsK,KAAM,UACL,CACCtK,MAAM,gBACRsK,KAAM,UACL,CACCtK,MAAM,QACRsK,KAAM,UACL,CACCtK,MAAM,aACRsK,KAAM,UACL,CACCtK,MAAM,WACRsK,KAAM,UACL,CACCtK,MAAM,QACRsK,KAAM,UACL,CACCtK,MAAM,SACRsK,KAAM,WACL,CACH,CACItK,MAAM,GACNsK,KAAM,UACL,CACCtK,MAAM,WACRsK,KAAM,UACL,CACCtK,MAAM,WACRsK,KAAM,UACL,CACCtK,MAAM,GACRsK,KAAM,UACL,CACCtK,MAAM,GACRsK,KAAM,UACL,CACCtK,MAAM,GACRsK,KAAM,UACL,CACCtK,MAAM,GACRsK,KAAM,UACL,CACCtK,MAAM,GACRsK,KAAM,UACL,CACCtK,MAAM,GACRsK,KAAM,UACL,CACCtK,MAAM,GACRsK,KAAM,UACL,CACCtK,MAAM,GACRsK,KAAM,UACL,CACCtK,MAAM,GACRsK,KAAM,UACL,CACCtK,MAAM,GACRsK,KAAM,UACL,CACCtK,MAAM,GACRsK,KAAM,UACL,CACCtK,MAAM,GACRsK,KAAM,UACL,CACCtK,MAAM,GACRsK,KAAM,UACL,CACCtK,MAAM,WACRsK,KAAM,UACL,CACCtK,MAAM,GACRsK,KAAM,UACL,CACCtK,MAAM,GACRsK,KAAM,UACL,CACCtK,MAAM,GACRsK,KAAM,UACL,CACCtK,MAAM,GACRsK,KAAM,UACL,CACCtK,MAAM,WACRsK,KAAM,UACL,CACCtK,MAAM,WACRsK,KAAM,UACL,CACCtK,MAAM,GACRsK,KAAM,UACL,CACCtK,MAAM,GACRsK,KAAM,UACL,CACCtK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","file":"static/js/main.1c6a6574.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/flat_seo3-24-512.b4bf43fd.png\";","module.exports = __webpack_public_path__ + \"static/media/seen-300x225.7508915c.webp\";","module.exports = __webpack_public_path__ + \"static/media/V-512.4ca5d018.png\";","module.exports = __webpack_public_path__ + \"static/media/38-383271_excel-logo-png-microsoft-excel-logo-transparent-png.bfb7fd20.png\";","module.exports = __webpack_public_path__ + \"static/media/Save_Excel_Icon.32ea14a0.jpg\";","module.exports = __webpack_public_path__ + \"static/media/icons8-delete-message-26.6b14a23a.png\";","module.exports = __webpack_public_path__ + \"static/media/1c7be669e68d05366ad16b7d2b40333b-diamond-gemstone-black-icon-by-vexels.53c9d042.png\";","module.exports = __webpack_public_path__ + \"static/media/Shapes.871ee084.png\";","module.exports = __webpack_public_path__ + \"static/media/delete-1507091-1279000.2c167f0b.png\";","module.exports = __webpack_public_path__ + \"static/media/l8cb11pkn10.705a6523.jpg\";","import React from 'react'\r\n\r\nimport { Container, Carousel } from 'react-bootstrap'\r\n\r\n//pagebody of home page\r\nexport default class HomePageBody extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <Carousel>\r\n               <Carousel.Item>\r\n          <img\r\n            className=\"d-block w-100\"\r\n            src=\"https://file4.batdongsan.com.vn/2019/07/11/akCJKkFO/20190711181053-40bf.jpg\"\r\n            alt=\"First slide\"\r\n          />\r\n          <Carousel.Caption>\r\n            <h3>New York</h3>\r\n            <p>Directly from 47th street</p>\r\n          </Carousel.Caption>\r\n        </Carousel.Item>\r\n               <Carousel.Item>\r\n          <img\r\n            className=\"d-block w-100\"\r\n            src=\"https://en.israelidiamond.co.il/wp-content/uploads/2016/09/Israel-Diamond-Industry.jpg\"\r\n            alt=\"Second slide\"\r\n          />\r\n          <Carousel.Caption>\r\n            <h3>Israel</h3>\r\n            <p>Ramat Gan Diamond Exchange complex</p>\r\n          </Carousel.Caption>\r\n        </Carousel.Item>\r\n        <Carousel.Item>\r\n          <img\r\n            className=\"d-block w-100\"\r\n            src=\"http://www.morphogenesis.org/wp-content/uploads/2018/11/Surat-Diamond-Bourse-1.jpg\"\r\n            alt=\"Third slide\"\r\n          />\r\n          <Carousel.Caption>\r\n            <h3>India</h3>\r\n            <p>Mumbai new Diamond Exchange</p>\r\n          </Carousel.Caption>\r\n        </Carousel.Item>\r\n        <Carousel.Item>\r\n          <img\r\n            className=\"d-block w-100\"\r\n            src=\"https://metro.co.uk/wp-content/uploads/2018/02/hong-kong-skyline-getty.jpg?quality=90&strip=all\"\r\n            alt=\"Fourth slide\"\r\n          />\r\n          <Carousel.Caption>\r\n            <h3>Hong Kong</h3>\r\n            <p>The gate to china</p>\r\n          </Carousel.Caption>\r\n        </Carousel.Item>\r\n        <Carousel.Item>\r\n          <img\r\n            className=\"d-block w-100\"\r\n            src=\"https://www.abc.net.au/news/image/11038164-3x2-700x467.jpg\"\r\n            alt=\"Fifth slide\"\r\n          />\r\n          <Carousel.Caption>\r\n            <h3>List your diamonds</h3>\r\n            <p>Live selling platform with proven results</p>\r\n          </Carousel.Caption>\r\n        </Carousel.Item>\r\n        <Carousel.Item>\r\n          <img\r\n            className=\"d-block w-100\"\r\n            src=\"https://image.shutterstock.com/image-photo/brilliant-cut-diamond-held-by-260nw-1068771257.jpg\"\r\n            alt=\"Sixth slide\"\r\n          />\r\n\r\n          <Carousel.Caption>\r\n            <h3>Connect with your other dealers</h3>\r\n            <p>Messaging Platform</p>\r\n          </Carousel.Caption>\r\n        </Carousel.Item>\r\n        <Carousel.Item>\r\n          <img\r\n            className=\"d-block w-100\"\r\n            src=\"https://image.iol.co.za/image/1/process/620x349?source=http://ana-baobab-prod-eu-west-2.s3.amazonaws.com/public/ana/media/media/2017/04/21/1492781484816.jpg\"\r\n            alt=\"Third slide\"\r\n          />\r\n\r\n          <Carousel.Caption>\r\n            <h3>All shapes, all color , all clarity</h3>\r\n            <p>with or without certificates. pictures and full specs</p>\r\n          </Carousel.Caption>\r\n        </Carousel.Item>\r\n      </Carousel>\r\n      // <div className=\"marginTop\">\r\n      //   <div className=\"row  cardHolder\">\r\n      //     {/* <div className=\"col-lg-4\">\r\n      //       <div className=\"content bg-diam\">\r\n      //         <a href=\"#\">\r\n      //           <MyCard key={1} num={1} total={3} img=\"https://image.shutterstock.com/image-photo/brilliant-cut-diamond-held-by-260nw-1068771257.jpg\" label=\"Search Diamonds\" text=\"Search by any parameter, Contact the seller, Shake hands, Mazal ubracha\" />\r\n      //         </a>\r\n      //       </div>\r\n      //     </div>\r\n      //     <div className=\"col-lg-4\">\r\n      //       <div className=\"content  bg-diam\">\r\n      //         <a href=\"#\">\r\n      //           <MyCard key={1} num={2} total={3} img=\"https://image.shutterstock.com/image-photo/message-bottle-floating-ocean-260nw-667435318.jpg\" label=\"Messages\" text=\"Check and send messages to members, send ofers, Stay in touch.\" />\r\n      //         </a>\r\n      //       </div>\r\n      //     </div>\r\n      //     <div className=\"col-lg-4\">\r\n      //       <div className=\"content bg-diam\">\r\n      //         <a href=\"#\">\r\n      //           <MyCard key={1} num={3} total={3} img=\"https://image.shutterstock.com/image-photo/auction-bid-sale-judgment-mallet-260nw-1033130779.jpg\" label=\"Auction\" text=\"Join the fun and bid on any diamond in the auction list. Get lucky.\" />\r\n      //         </a>\r\n      //       </div>\r\n      //     </div> */}\r\n      //   </div>\r\n      // </div>\r\n    );\r\n  }\r\n}","\r\nexport class Message {\r\n    constructor(parseMessage) {\r\n        this.id = parseMessage.id;\r\n        this.from = parseMessage.get(\"from\");\r\n        this.to = parseMessage.get(\"to\");\r\n        this.text = parseMessage.get(\"text\");\r\n        this.createdAt = parseMessage.get(\"createdAt\");\r\n        this.read = parseMessage.get(\"read\");\r\n        this.deleted = parseMessage.get(\"deleted\");\r\n        this.recieved=parseMessage.get(\"recieved\");\r\n    }\r\n}\r\nexport function usersMessages(user, allMessages, fromUser) {\r\n    let result = {\r\n        new: 0,\r\n        last:\"\",\r\n        messages: []\r\n    };\r\n    if (user && allMessages) {\r\n        allMessages.forEach(message => {\r\n            if (message.from.id === user.id || message.to.id === user.id) {\r\n                if (fromUser&&(message.from.id === fromUser.id || message.to.id === fromUser.id)) result.messages.push(message);\r\n                if (!message.read && message.to.id === user.id && (!fromUser|| message.from.id === fromUser.id )) result.new++;\r\n                if (message.createdAt>result.last && message.to.id === user.id && fromUser && message.from.id === fromUser.id ) result.last=message.createdAt;\r\n            }\r\n\r\n\r\n        });\r\n    }\r\n    return result;\r\n}\r\n","import React from 'react'\r\nimport { Navbar, Nav,Badge,Image } from 'react-bootstrap'\r\nimport { Redirect } from 'react-router-dom'\r\nimport diamondLogo from '../data/1c7be669e68d05366ad16b7d2b40333b-diamond-gemstone-black-icon-by-vexels.png'\r\nimport {usersMessages} from '../Classes/Message'\r\nimport basket from '../data/flat_seo3-24-512.png'\r\n\r\nclass DiamondNavbar extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            redirectToHome: false\r\n        }\r\n\r\n        this.logout = this.logout.bind(this);\r\n    }\r\n\r\n    logout() {\r\n        this.props.handleLogout();\r\n\r\n        if (window.location.hash != \"#/\") {\r\n            this.setState({redirectToHome: true})\r\n        }\r\n    }\r\n\r\n    // // this function in onvoked after every render (but not the first)\r\n    // componentDidUpdate() {\r\n    //     if (this.state.redirectToHome) {\r\n    //         this.setState({redirectToHome: false})\r\n    //     }\r\n    // }\r\n\r\n    \r\n\r\n    render() {\r\n        let itemsInCart;\r\n        const { activeUser,allMessages,cart } = this.props;\r\n        const { redirectToHome } = this.state;\r\n\r\n        let pic;\r\n\r\n        if (activeUser&&activeUser.pic) { pic = activeUser.pic[\"_url\"] } else { pic = \"https://scontent.ftlv6-1.fna.fbcdn.net/v/t31.0-1/c379.0.1290.1290a/10506738_10150004552801856_220367501106153455_o.jpg?_nc_cat=1&cachebreaker=sd&_nc_oc=AQmDPuqAMC36xNBFYpWyGbruJPR0Bwnz_z8drIOP6ckngglLREPuhsA77Q9ZymgFONs&_nc_ht=scontent.ftlv6-1.fna&oh=de23631b35970c121e8f864db29fb977&oe=5E4D3749\" }\r\n\r\n        const signupLink = !activeUser ? <Nav.Link href=\"#/signup\">Signup</Nav.Link> : null;\r\n        const loginLink = !activeUser ? <Nav.Link href=\"#/login\">Login</Nav.Link> : null;\r\n        const logoutLink = activeUser ? <Nav.Link onClick={this.logout}><Image style={{width:\"50px\"}} src={pic} roundedCircle />{\" \"+this.props.activeUser.fname+\" Logout\"}</Nav.Link> : null;\r\n        const newMessages=usersMessages( activeUser,allMessages).new;\r\n        let myBadge=\"\";\r\n        if (newMessages){myBadge=(<Badge pill variant=\"success\">{newMessages}</Badge>)}\r\n        if (cart.length) {itemsInCart=cart.length} else {itemsInCart=\"\"};\r\n        return (\r\n            \r\n            <Navbar bg=\"light\" expand=\"lg\">\r\n                <Navbar.Brand href=\"#/\"><img className=\"logo\" src={diamondLogo}></img>Diamonds</Navbar.Brand>\r\n                <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                    <Nav className=\"mr-auto\">\r\n                        <Nav.Link href=\"#/search\">Search</Nav.Link>\r\n                        <Nav.Link href=\"#/messages\">Messages{myBadge}</Nav.Link>\r\n                        <Nav.Link href=\"#/about\">About</Nav.Link>\r\n                    </Nav>\r\n\r\n                    <Nav className=\"ml-auto\">\r\n                    <Navbar.Brand href=\"#/cart\"><img className=\"basket\" style={{width:\"30px\"}} src={basket}></img>{itemsInCart}</Navbar.Brand>\r\n                        {signupLink}\r\n                        {loginLink}\r\n                        {logoutLink}\r\n                    </Nav>\r\n                </Navbar.Collapse>\r\n            </Navbar>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DiamondNavbar;","import React from 'react';\r\nimport {Container} from 'react-bootstrap'\r\nimport HomePageBody from '../components/HomePageBody'\r\nimport DiamondNavbar from '../components/DiamondNavbar';\r\n\r\nexport class Home extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n \r\n}\r\n    render() {\r\n      const { activeUser, handleLogout,allMessages } = this.props;\r\n\r\n      return (\r\n        <Container>\r\n          <DiamondNavbar cart={this.props.cart} allMessages={allMessages} activeUser={activeUser} handleLogout={handleLogout}/>\r\n          <HomePageBody />\r\n        </Container>\r\n      );\r\n    }\r\n  }\r\n\r\n","//user class\r\nexport default class User {\r\n    constructor(parseUser) {\r\n        this.id = parseUser.id;\r\n        this.fname = parseUser.get(\"fname\");\r\n        this.lname = parseUser.get(\"lname\");\r\n        this.email = parseUser.get(\"email\");\r\n        this.username = parseUser.get(\"username\");\r\n        this.isLogin = parseUser.get(\"isLogin\");\r\n        this.lastLogout=parseUser.get(\"lastLogout\");\r\n        this.pic=parseUser.get(\"pic\");\r\n        this.cart=parseUser.get(\"cart\");\r\n    }\r\n}\r\n\r\n\r\nexport function userDetails(id,allUsers){\r\n    for (var i=0;i<allUsers.length;i++){\r\n        if (id===allUsers[i].id) return allUsers[i];\r\n    }\r\n    return null;\r\n}","import React from 'react';\r\nimport { Container, InputGroup, FormControl, ListGroup, Image, Badge, Row, Col,Button } from 'react-bootstrap'\r\nimport HomePageBody from '../components/HomePageBody'\r\nimport DiamondNavbar from '../components/DiamondNavbar';\r\nimport { usersMessages } from '../Classes/Message'\r\nimport { userDetails } from '../Classes/User'\r\nimport deleteImg from '../data/icons8-delete-message-26.png'\r\nimport readMessage from '../data/seen-300x225.webp'\r\nimport recievedMessage from '../data/V-512.png'\r\n\r\nexport function fullMinutes(min){\r\n    if (min>9) return min;\r\n    return \"0\"+min;\r\n}\r\nexport function parseDateTime(dateTime){\r\n    let answer=\"\"\r\n const today=new Date();\r\n if (dateTime.getFullYear()!=today.getFullYear()||dateTime.getMonth()!=today.getMonth()||dateTime.getDate()!=today.getDate()) \r\n                    answer=answer+dateTime.getDate()+\"/\"+dateTime.getMonth()+\"/\"+dateTime.getFullYear()+\" \"\r\nanswer=answer+dateTime.getHours()+\":\"+fullMinutes(dateTime.getMinutes());\r\nreturn answer;\r\n}\r\n\r\n\r\n\r\nexport default class UserMessages extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            message:\"\",\r\n            filter: \"\",\r\n             id:window.location.hash.substring(11)\r\n            // id: \"Q1AKkgMzMS\"\r\n            // id:this.props.match.params.id\r\n        }\r\n    \r\n    }\r\ncomponentDidUpdate(){\r\n    this.conv.scrollTop = this.conv.scrollHeight;\r\n}\r\n    componentDidMount(){\r\n        this.conv.scrollTop = this.conv.scrollHeight;\r\n        const { activeUser, allMessages,messageRead,allUsers } = this.props;\r\n        let theSender = userDetails(this.state.id, allUsers);\r\n        let conversation = usersMessages(activeUser, allMessages, theSender);\r\n        conversation.messages.forEach(message => {\r\n \r\n            if (message.from.id===theSender.id && !message.read){\r\n                messageRead(message);\r\n            }\r\n        })\r\n    }\r\n    \r\n    render() {\r\n        let messageDate;\r\n        let pic;\r\n        let index=-1;\r\n        const { activeUser, handleLogout, allUsers, allMessages, addMessage,deleteMessage,markDeleted } = this.props;\r\n        let theSender = userDetails(this.state.id, allUsers);\r\n        \r\n        if (theSender.pic) { pic = theSender.pic[\"_url\"] } else { pic = \"https://scontent.ftlv6-1.fna.fbcdn.net/v/t31.0-1/c379.0.1290.1290a/10506738_10150004552801856_220367501106153455_o.jpg?_nc_cat=1&cachebreaker=sd&_nc_oc=AQmDPuqAMC36xNBFYpWyGbruJPR0Bwnz_z8drIOP6ckngglLREPuhsA77Q9ZymgFONs&_nc_ht=scontent.ftlv6-1.fna&oh=de23631b35970c121e8f864db29fb977&oe=5E4D3749\" }\r\n        let showConversation = [];\r\n        let conversation = usersMessages(activeUser, allMessages, theSender);\r\n        conversation.messages.forEach(message => {\r\n            index++;\r\n            messageDate=parseDateTime(message.createdAt);\r\n            if (message.from.id === activeUser.id) {\r\n                showConversation.push(<Row>\r\n                    <Col xl=\"4\" lg=\"4\" md=\"4\" sm=\"4\" xs=\"4\" ></Col>\r\n                    <Col style={{display:\"flex\"}} xl=\"8\" lg=\"8\" md=\"8\" sm=\"8\" xs=\"8\" >\r\n                        <spam className=\"from\">\r\n                            <div style={{display:\"flex\"}}>\r\n                            <p  style={{color:\"red\"}}>You:</p>\r\n                            <img onClick={(e)=>{deleteMessage(e.target.id)}} className=\"deleteMessage\" id={message.id} style={{width:\"15px\",height:\"15px\",marginLeft:\"auto\",marginRight:\"5px\"}} src={deleteImg}></img>\r\n                            </div>\r\n                            <p>{message.text}</p>\r\n                            <div style={{display:\"flex\"}}>\r\n                            <img style={{width:\"15px\",height:\"15px\",marginRight:\"auto\",marginLeft:\"5px\"}} src={recievedMessage} hidden=\r\n                            {(message.read||!message.recieved)}\r\n                            ></img>\r\n                            <img style={{width:\"15px\",height:\"15px\",marginRight:\"auto\",marginLeft:\"5px\"}} src={readMessage} hidden={!message.read}></img>\r\n                            <p style={{fontSize:\"10px\",color:\"black\",marginLeft:\"auto\"}}>{messageDate}</p>\r\n                            </div>\r\n                        </spam>\r\n                    </Col>\r\n                </Row>)\r\n            }\r\n            else if(!message.deleted) {\r\n                showConversation.push(<Row>\r\n\r\n                    <Col xl=\"8\" lg=\"8\" md=\"8\" sm=\"8\" xs=\"8\" >\r\n                        <spam className=\"to\">\r\n                        <div style={{display:\"flex\"}}>\r\n                            <p>{theSender.fname}:</p>\r\n                            <img onClick={(e)=>{markDeleted(e.target.id)}}  className=\"deleteMessage\"  id={message.id} style={{width:\"15px\",height:\"15px\",marginLeft:\"auto\",marginRight:\"5px\"}} src={deleteImg}></img>\r\n                            </div>\r\n                            <p>{message.text}</p>\r\n                            <p style={{fontSize:\"10px\",color:\"black\",marginLeft:\"auto\"}}>{messageDate}</p>\r\n                        </spam>\r\n                    </Col>\r\n                    <Col xl=\"4\" lg=\"4\" md=\"4\" sm=\"4\" xs=\"4\" ></Col>\r\n                </Row>)\r\n            }\r\n        })\r\n        return (\r\n            <Container id=\"page-container\">\r\n                <DiamondNavbar cart={this.props.cart} allMessages={allMessages} activeUser={activeUser} handleLogout={handleLogout} />\r\n\r\n                <div className=\"userHeader\"><Image style={{ width: \"40px\" }} src={pic}></Image>{`  ${theSender.fname} ${theSender.lname}`}\r\n                </div>\r\n                <Container ref={(element)=>{this.conv=element}} className=\"body\">\r\n                    {showConversation}\r\n                </Container>\r\n                <div id=\"footer\">\r\n                    <InputGroup className=\"mb-0\">\r\n                        <FormControl\r\n                            value={this.state.message}\r\n                            onChange={(event)=>{\r\n                                let {message}=this.state;\r\n                                message=event.target.value;\r\n                                this.setState({message});\r\n                            }}\r\n                            placeholder=\"Write Something\"\r\n                            aria-label=\"User\"\r\n                            aria-describedby=\"basic-addon1\"\r\n                        />\r\n                         <InputGroup.Append>\r\n                             <Button onClick={()=>{\r\n                                     let {message}=this.state;\r\n                                    addMessage(message,activeUser.id,theSender.id);\r\n                                    message=\"\";\r\n                                    this.setState({message});\r\n                             }} \r\n                             variant=\"primary\">Send</Button>\r\n                         </InputGroup.Append>\r\n                    </InputGroup>\r\n                </div>\r\n\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\n","import React from 'react';\r\nimport { Container, InputGroup, FormControl, ListGroup,Image,Badge } from 'react-bootstrap'\r\nimport HomePageBody from '../components/HomePageBody'\r\nimport DiamondNavbar from '../components/DiamondNavbar';\r\nimport {usersMessages} from '../Classes/Message'\r\nimport { Redirect } from 'react-router-dom'\r\nimport {fullMinutes, parseDateTime} from '../components/UserMessages'\r\n\r\nexport class Messages extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            filter:\"\",\r\n            redirectTo:\"\"\r\n        }\r\n    }\r\n    filterUsers=(e)=>{\r\n        let {filter}=this.state;\r\n        filter=e.target.value;\r\n        this.setState({filter})\r\n    }\r\n    compareFunction=(a,b)=>{\r\n        if (a.new&&!b.new) {return -1}\r\n        else if (!a.new&&b.new)  {return 1}\r\n        else if (a.lastMessageRecieved>b.lastMessageRecieved) {return -1}\r\n        else return 1;\r\n    }\r\n  redirectToUserMessage(id){\r\n      let redirectTo=id;\r\n      this.setState({redirectTo});\r\n  }\r\n    render() {\r\n        if (this.state.redirectTo) {return <Redirect to={\"/messages/\"+this.state.redirectTo}/>}\r\n        const { activeUser, handleLogout, allUsers,allMessages } = this.props;\r\n        const {filter}=this.state;\r\n        let listUsers = [];\r\n        let pic;\r\n        let newMessages=\"\";\r\n        let allUsersSorted=[];\r\n        \r\n        if (!activeUser) {\r\n            return <Redirect to=\"/\" />\r\n        }\r\n\r\n        allUsers.forEach(user=>{\r\n            let userMessages=usersMessages(activeUser,allMessages,user)\r\n            allUsersSorted.push({user:user,new:userMessages.new,lastMessageRecieved:userMessages.last})\r\n        })\r\n        allUsersSorted.sort(this.compareFunction)\r\n        allUsersSorted.forEach(user => {\r\n            let lastMessageRecieved=\"\";\r\n            if (activeUser && activeUser.id!==user.user.id && ( user.user.username.toLowerCase().includes(filter.toLowerCase())||user.user.lname.toLowerCase().includes(filter.toLowerCase())||user.user.fname.toLowerCase().includes(filter.toLowerCase()))){\r\n                if (user.user.pic)  {pic=user.user.pic[\"_url\"]} else {pic=\"https://scontent.ftlv6-1.fna.fbcdn.net/v/t31.0-1/c379.0.1290.1290a/10506738_10150004552801856_220367501106153455_o.jpg?_nc_cat=1&cachebreaker=sd&_nc_oc=AQmDPuqAMC36xNBFYpWyGbruJPR0Bwnz_z8drIOP6ckngglLREPuhsA77Q9ZymgFONs&_nc_ht=scontent.ftlv6-1.fna&oh=de23631b35970c121e8f864db29fb977&oe=5E4D3749\"}\r\n                if (user.new) {newMessages=  <Badge pill variant=\"success\">{user.new} </Badge>} else {newMessages=\"\"}\r\n                if (user.lastMessageRecieved) lastMessageRecieved=(`${parseDateTime(user.lastMessageRecieved)}`)\r\n                listUsers.push(<ListGroup.Item key={user.user.id}\r\n                                        // style={{width:\"450px\"}}\r\n                                        >\r\n                                <div className=\"pointer\" style={{border:\"1px solid\"}} onClick={()=>{ this.redirectToUserMessage(user.user.id)}}>\r\n                                    <Image style={{height:\"50px\"}} src={pic}>\r\n                                    </Image>\r\n                                    {`  ${user.user.username}: ${user.user.fname} ${user.user.lname} `}{newMessages}{\" \"+lastMessageRecieved}\r\n                                </div>\r\n                                </ListGroup.Item>)\r\n            }\r\n        });\r\n        return (\r\n            <Container >\r\n                <DiamondNavbar cart={this.props.cart}  allMessages={allMessages}  activeUser={activeUser} handleLogout={handleLogout} />\r\n                <h3>Messages:</h3>\r\n                <InputGroup  \r\n                // style={{width:\"450px\"}} \r\n                onChange={this.filterUsers} className=\"mb-0\">\r\n                    <FormControl\r\n                   \r\n                        placeholder=\"Search user\"\r\n                        aria-label=\"User\"\r\n                        aria-describedby=\"basic-addon1\"\r\n                    />\r\n                </InputGroup>\r\n                <ListGroup>\r\n                    {listUsers}\r\n                </ListGroup>\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\n","import { listPrice } from '../App'\r\nimport priceList from '../data/prices.json';\r\n\r\n//DIAMOND CLASS\r\nexport class Diamond1 {\r\n  constructor(diamond) {\r\n    this.id = diamond.id;\r\n    this.lotID = diamond.get(\"lotID\");\r\n    this.shape = diamond.get(\"shape\");\r\n    this.weight = diamond.get(\"weight\");\r\n    this.color = diamond.get(\"color\");\r\n    this.clarity = diamond.get(\"clarity\");\r\n    this.cut = diamond.get(\"cut\");\r\n    if (!this.cut) this.cut=\"\";\r\n    this.polish = diamond.get(\"polish\");\r\n    if (!this.polish) this.polish=\"\";\r\n    this.symmetry = diamond.get(\"symmetry\");\r\n    if (!this.symmetry) this.symmetry=\"\";\r\n    this.fluorescence = diamond.get(\"fluorescence\");\r\n    if (!this.fluorescence) this.fluorescence=\"\";\r\n    this.fluorescenceColor = diamond.get(\"fluorescenceColor\");\r\n    if (!this.fluorescenceColor) this.fluorescenceColor=\"\";\r\n    this.lab = diamond.get(\"lab\");\r\n    if (!this.lab) this.lab=\"\";\r\n    this.certificateNumber = diamond.get(\"certificateNumber\");\r\n    if (!this.certificateNumber) this.certificateNumber=\"\";\r\n    this.depth = diamond.get(\"depth\");\r\n    if (!this.depth) this.depth=\"\";\r\n    this.table = diamond.get(\"table\");\r\n    if (!this.table) this.table=\"\";\r\n    this.crownAngle = diamond.get(\"crownAngle\");\r\n    if (!this.crownAngle) this.crownAngle=\"\";\r\n    this.crownHeight = diamond.get(\"crownHeight\");\r\n    if (!this.crownHeight) this.pocrownHeightlish=\"\";\r\n    this.pavillionAngle = diamond.get(\"pavillionAnglecut\");\r\n    if (!this.pavillionAnglecut) this.pavillionAnglecut=\"\";\r\n    this.pavillionDepth = diamond.get(\"pavillionDepth\");\r\n    if (!this.pavillionDepth) this.pavillionDepth=\"\";\r\n    this.starLength = diamond.get(\"starLength\");\r\n    if (!this.starLength) this.starLength=\"\";\r\n    this.lowerHalf = diamond.get(\"lowerHalf\");\r\n    if (!this.lowerHalf) this.lowerHalf=\"\";\r\n    this.girdle = diamond.get(\"girdle\");\r\n    if (!this.girdle) this.girdle=\"\";\r\n    this.culet = diamond.get(\"culet\");\r\n    if (!this.culet) this.culet=\"\";\r\n    this.list = listPrice(this.shape, this.color, this.clarity, this.weight, priceList.response.body.price);\r\n    this.discount = diamond.get(\"discount\");\r\n    if (!this.discount) this.discount=\"\";\r\n    this.pricePerCarat = diamond.get(\"pricePerCarat\");\r\n    if (!this.pricePerCarat) this.pricePerCarat=\"\";\r\n    this.links = diamond.get(\"links\");\r\n    if (!this.links) this.links=[];\r\n    this.inclusions = diamond.get(\"inclusions\");\r\n    if (!this.inclusions) this.inclusions=\"\";\r\n    this.owner = diamond.get(\"owner\");\r\n    if (!this.owner) this.owner=\"\";\r\n    this.keepDiscount = diamond.get(\"keepDiscount\");\r\n    if (!this.keepDiscount) this.keepDiscount=\"\";\r\n    this.diamMin = diamond.get(\"diamMin\");\r\n    if (!this.diamMin) this.diamMin=\"\";\r\n    this.diamMax = diamond.get(\"diamMax\");\r\n    if (!this.diamMax) this.diamMax=\"\";\r\n    this.deptAvg = diamond.get(\"deptAvg\");\r\n    if (!this.deptAvg) this.deptAvg=\"\";\r\n    let pic1 = diamond.get(\"pic1\");\r\n    if (pic1) { this.pic1 = { file:pic1,name: pic1[\"_name\"], url: pic1[\"_url\"] } } else this.pic1 = {};\r\n     let pic2 = diamond.get(\"pic2\");\r\n    if (!pic2) { this.pic2 = {} } else { this.pic2 = {file:pic2, name: pic2[\"_name\"], url: pic2[\"_url\"] } }\r\n    if (this.list) {\r\n      if (!this.keepDiscount)\r\n        this.discount = 100 - 100 * (this.pricePerCarat / (this.list))\r\n      else this.pricePerCarat = this.list * (100 - this.discount) / 100\r\n    }\r\n\r\n  }\r\n  measurements() { return this.diamMin + \"-\" + this.diamMax + \"*\" + this.deptAvg }\r\n  inFilter(filter) {\r\n\r\n    if ((filter.shape.includes(this.shape)|| !filter.shape.length)\r\n      && this.color >= filter.colorMin\r\n      && this.color <= filter.colorMax\r\n      && clarityValue(this.clarity) >= clarityValue(filter.clarityMin)\r\n      && clarityValue(this.clarity) <= clarityValue(filter.clarityMax)\r\n      && (this.weight >= filter.weightMin || filter.weightMin===\"\")\r\n      && (this.weight <= filter.weightMax || filter.weightMax===\"\")) return true;\r\n\r\n    return false;\r\n  }\r\n}\r\n\r\nexport function clarityValue(clarity) {\r\n  switch (clarity) {\r\n    case \"FL\":\r\n      return 0\r\n      break;\r\n    case \"IF\":\r\n      return 1\r\n      break;\r\n    case \"VVS1\":\r\n      return 2\r\n      break;\r\n    case \"VVS2\":\r\n      return 3\r\n      break;\r\n    case \"VS1\":\r\n      return 4\r\n      break;\r\n    case \"VS2\":\r\n      return 5\r\n      break;\r\n    case \"SI1\":\r\n      return 6\r\n      break;\r\n    case \"SI2\":\r\n      return 7\r\n      break;\r\n    case \"SI3\":\r\n      return 8\r\n      break;\r\n    case \"I1\":\r\n      return 9\r\n      break;\r\n    case \"I2\":\r\n      return 10\r\n      break;\r\n    case \"I3\":\r\n      return 11\r\n      break;\r\n    default:\r\n      return false;\r\n  }\r\n}\r\nexport function colorValue(color) {\r\n  switch (color) {\r\n    case \"D\":\r\n      return 0\r\n      break;\r\n    case \"E\":\r\n      return 1\r\n      break;\r\n    case \"F\":\r\n      return 2\r\n      break;\r\n    case \"G\":\r\n      return 3\r\n      break;\r\n    case \"H\":\r\n      return 4\r\n      break;\r\n    case \"I\":\r\n      return 5\r\n      break;\r\n    case \"J\":\r\n      return 6\r\n      break;\r\n    case \"K\":\r\n      return 7\r\n      break;\r\n    case \"L\":\r\n      return 8\r\n      break;\r\n    case \"M\":\r\n      return 9\r\n      break;\r\n    case \"N\":\r\n      return 10\r\n      break;\r\n    case \"OP\":\r\n      return 11\r\n      break;\r\n    case \"QR\":\r\n      return 12\r\n      break;\r\n      case \"ST\":\r\n        return 13\r\n        break;\r\n        case \"UV\":\r\n          return 14\r\n          break;\r\n          case \"WX\":\r\n            return 15\r\n            break;\r\n            case \"YZ\":\r\n              return 16\r\n              break;\r\n    default:\r\n      return false;\r\n  }\r\n}","import React from 'react';\r\nimport { Button, Image, Row, Col } from 'react-bootstrap';\r\n\r\n\r\nclass ListOfLinks extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render() {\r\n        let parse = [];\r\n        for (var i = 0; i < this.props.links.length; i++) {\r\n            parse.push(\r\n                <Row style={{ margin: \"10px\", border: \"1px solid green\"}}>\r\n                    <Col style={{display:\"flex\",alignItems:\"center\",justifyContent:\"center\"}} md=\"6\" sm=\"6\">\r\n                        {this.props.links[i].substring(0, 30)+\"......\"}\r\n                    </Col>\r\n                    <Col style={{display:\"flex\",alignItems:\"center\",justifyContent:\"center\"}} md=\"3\" sm=\"2\">\r\n                        <Image src={this.props.links[i]} style={{ width: \"50px\" }} />\r\n                    </Col>\r\n                    <Col style={{display:\"flex\",alignItems:\"center\",justifyContent:\"center\"}} md=\"3\" sm=\"4\">\r\n                        <Button onClick={() => { this.props.deleteLink(i) }}>\r\n                            Delete Me\r\n                                </Button>\r\n                    </Col>\r\n                </Row>);\r\n\r\n\r\n\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                {parse}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default ListOfLinks;","import React from 'react'\r\nimport { Button, Modal, InputGroup, Image, Form, Row, Col, FormControl, Container, Nav } from 'react-bootstrap'\r\nimport { listPrice } from '../App'\r\nimport { Diamond1 } from '../Classes/Diamond'\r\nimport diamondsShape from '../data/Shapes.png'\r\nimport ListOfLinks from './ListOfLinks'\r\nimport { Redirect } from 'react-router-dom'\r\nimport excel from '../data/38-383271_excel-logo-png-microsoft-excel-logo-transparent-png.png'\r\n\r\n\r\n//this class renders \r\n//1. edit/new diamond modal\r\n//2. new diamond button\r\n//3. upload from excell icon link\r\n//4. filter button to show only activeUser listings\r\n// will render only if activeUser is not null\r\n\r\nexport default class AddDiamond extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        //if modal is called for listing a new diamond\r\n        if (this.props.edit === -1 && this.props.activeUser) {\r\n            this.state = {\r\n                linktoAdd: \"\",\r\n                modal: false,\r\n                disableSave: true,\r\n                page: 0,\r\n                diamond: {\r\n                    id: \"\",\r\n                    lotID: \"\",\r\n                    shape: \"\",\r\n                    weight: \"\",\r\n                    color: \"\",\r\n                    clarity: \"\",\r\n                    cut: \"\",\r\n                    polish: \"\",\r\n                    symmetry: \"\",\r\n                    fluorescence: \"\",\r\n                    fluorescenceColor: \"\",\r\n                    lab: \"\",\r\n                    certificateNumber: \"\",\r\n                    depth: \"\",\r\n                    table: \"\",\r\n                    crownAngle: \"\",\r\n                    crownHeight: \"\",\r\n                    pavillionAngle: \"\",\r\n                    pavillionDepth: \"\",\r\n                    starLength: \"\",\r\n                    lowerHalf: \"\",\r\n                    girdle: \"\",\r\n                    culet: \"\",\r\n                    list: 0,\r\n                    discount: \"\",\r\n                    pricePerCarat: \"\",\r\n                    links: [],\r\n                    inclusions: \"\",\r\n                    keepDiscount: true,\r\n                    diamMin: \"\",\r\n                    diamMax: \"\",\r\n                    deptAvg: \"\",\r\n                    pic1: {},\r\n                    pic2: {},\r\n                    owner: this.props.activeUser.id\r\n\r\n                }\r\n            }\r\n        }\r\n        //if modal is called for editing a diamond\r\n        else if (this.props.activeUser) {\r\n            this.state = {\r\n                modal: true,\r\n                page: 0,\r\n                disableSave: true,\r\n                diamond: {\r\n                    id: this.props.diamonds[this.props.edit].id,\r\n                    lotID: this.props.diamonds[this.props.edit].lotID,\r\n                    shape: this.props.diamonds[this.props.edit].shape,\r\n                    weight: this.props.diamonds[this.props.edit].weight,\r\n                    color: this.props.diamonds[this.props.edit].color,\r\n                    clarity: this.props.diamonds[this.props.edit].clarity,\r\n                    cut: this.props.diamonds[this.props.edit].cut,\r\n                    polish: this.props.diamonds[this.props.edit].polish,\r\n                    symmetry: this.props.diamonds[this.props.edit].symmetry,\r\n                    fluorescence: this.props.diamonds[this.props.edit].fluorescence,\r\n                    fluorescenceColor: this.props.diamonds[this.props.edit].fluorescenceColor,\r\n                    lab: this.props.diamonds[this.props.edit].lab,\r\n                    certificateNumber: this.props.diamonds[this.props.edit].certificateNumber,\r\n                    depth: this.props.diamonds[this.props.edit].depth,\r\n                    table: this.props.diamonds[this.props.edit].table,\r\n                    crownAngle: this.props.diamonds[this.props.edit].crownAngle,\r\n                    crownHeight: this.props.diamonds[this.props.edit].crownHeight,\r\n                    pavillionAngle: this.props.diamonds[this.props.edit].pavillionAngle,\r\n                    pavillionDepth: this.props.diamonds[this.props.edit].pavillionDepth,\r\n                    starLength: this.props.diamonds[this.props.edit].starLength,\r\n                    lowerHalf: this.props.diamonds[this.props.edit].lowerHalf,\r\n                    girdle: this.props.diamonds[this.props.edit].girdle,\r\n                    culet: this.props.diamonds[this.props.edit].culet,\r\n                    list: this.props.diamonds[this.props.edit].list,\r\n                    discount: this.props.diamonds[this.props.edit].discount,\r\n                    pricePerCarat: this.props.diamonds[this.props.edit].pricePerCarat,\r\n                    links: this.props.diamonds[this.props.edit].links,\r\n                    inclusions: this.props.diamonds[this.props.edit].inclusions,\r\n                    keepDiscount: (this.props.diamonds[this.props.edit].keepDiscount === true),\r\n                    diamMin: this.props.diamonds[this.props.edit].diamMin,\r\n                    diamMax: this.props.diamonds[this.props.edit].diamMax,\r\n                    deptAvg: this.props.diamonds[this.props.edit].deptAvg,\r\n                    owner: this.props.diamonds[this.props.edit].owner,\r\n                    pic1: this.props.diamonds[this.props.edit].pic1,\r\n                    pic2: this.props.diamonds[this.props.edit].pic2,\r\n\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            //no activeUser\r\n            this.state = {\r\n                modal: true,\r\n                page: 0,\r\n                disableSave: true,\r\n                diamond: null\r\n            }\r\n\r\n        }\r\n    }\r\n    // if modal is called to be open again, need to read new props to decide if to edit or add new\r\n    componentWillReceiveProps(nextProps) {\r\n        let newState;\r\n        if (nextProps.edit === -1 && nextProps.activeUser) {\r\n            newState = {\r\n                modal: false,\r\n                disableSave: true,\r\n                page: 0,\r\n                diamond: {\r\n                    id: \"\",\r\n                    lotID: \"\",\r\n                    shape: \"\",\r\n                    weight: \"\",\r\n                    color: \"\",\r\n                    clarity: \"\",\r\n                    cut: \"\",\r\n                    polish: \"\",\r\n                    symmetry: \"\",\r\n                    fluorescence: \"\",\r\n                    fluorescenceColor: \"\",\r\n                    lab: \"\",\r\n                    certificateNumber: \"\",\r\n                    depth: \"\",\r\n                    table: \"\",\r\n                    crownAngle: \"\",\r\n                    crownHeight: \"\",\r\n                    pavillionAngle: \"\",\r\n                    pavillionDepth: \"\",\r\n                    starLength: \"\",\r\n                    lowerHalf: \"\",\r\n                    girdle: \"\",\r\n                    culet: \"\",\r\n                    list: 0,\r\n                    discount: \"\",\r\n                    pricePerCarat: \"\",\r\n                    links: [],\r\n                    inclusions: \"\",\r\n                    keepDiscount: true,\r\n                    diamMin: \"\",\r\n                    diamMax: \"\",\r\n                    deptAvg: \"\",\r\n                    owner: nextProps.activeUser.id,\r\n                    pic1: {},\r\n                    pic2: {}\r\n\r\n                }\r\n            }\r\n        }\r\n        else if (nextProps.activeUser) {\r\n            newState = {\r\n                modal: true,\r\n                page: 0,\r\n                disableSave: true,\r\n                diamond: nextProps.diamonds[nextProps.edit]\r\n\r\n            }\r\n        }\r\n        else {\r\n            newState = {\r\n                modal: true,\r\n                page: 0,\r\n                disableSave: true,\r\n                diamond: null\r\n            }\r\n\r\n\r\n        }\r\n        this.setState(newState)\r\n    }\r\n\r\n    //toggles modal\r\n    toggle = () => {\r\n        this.setState({\r\n            modal: !this.state.modal\r\n        });\r\n    }\r\n    //closes modal\r\n    handleClose = () => {\r\n        this.setState({\r\n            modal: false\r\n        });\r\n\r\n    }\r\n\r\n    //detects on which diamond shape the user has clicked\r\n    detectMouse = (event) => {\r\n        let { diamond } = this.state;\r\n        var cx = event.clientX;\r\n        var width = document.body.clientWidth;\r\n        // var modalWidth = $(\"#modalAdd\").width();\r\n        var modalWidth = document.getElementById(\"modalAdd\").offsetWidth;\r\n        var ratio = (cx - (width - modalWidth) / 2) / modalWidth;\r\n\r\n        if (ratio <= 0.085 && ratio >= 0.037) {\r\n            diamond.shape = \"BR\"\r\n        }\r\n        else if (ratio <= 0.154 && ratio >= 0.1) {\r\n            diamond.shape = \"PR\"\r\n        }\r\n        else if (ratio <= 0.24 && ratio >= 0.175) {\r\n            diamond.shape = \"OV\"\r\n        }\r\n        else if (ratio <= 0.34 && ratio >= 0.26) {\r\n            diamond.shape = \"MQ\"\r\n        }\r\n        else if (ratio <= 0.41 && ratio >= 0.357) {\r\n            diamond.shape = \"HS\"\r\n        }\r\n        else if (ratio <= 0.492 && ratio >= 0.43) {\r\n            diamond.shape = \"EM\"\r\n        }\r\n        else if (ratio <= 0.58 && ratio >= 0.51) {\r\n            diamond.shape = \"PS\"\r\n        }\r\n        else if (ratio <= 0.664 && ratio >= 0.61) {\r\n            diamond.shape = \"AS\"\r\n        }\r\n        else if (ratio <= 0.75 && ratio >= 0.69) {\r\n            diamond.shape = \"CU\"\r\n        }\r\n        else if (ratio <= 0.824 && ratio >= 0.77) {\r\n            diamond.shape = \"TR\"\r\n        }\r\n        else if (ratio <= 0.89 && ratio >= 0.85) {\r\n            diamond.shape = \"BG\"\r\n        }\r\n        else if (ratio <= 0.97 && ratio >= 0.91) {\r\n            diamond.shape = \"RAD\"\r\n        }\r\n        //    let page=2;\r\n        let disableSave = false;\r\n\r\n        this.setState({\r\n            // page,\r\n            disableSave,\r\n            diamond\r\n        })\r\n    }\r\n\r\n    //a few functions to read the input\r\n\r\n    getCertNum = () => {\r\n        let disableSave = false;\r\n        let { diamond } = this.state;\r\n        diamond.certificateNumber = this.certNumInput.value;\r\n        this.setState({ disableSave, diamond })\r\n    }\r\n    getLotId = () => {\r\n        let disableSave = false;\r\n        let { diamond } = this.state;\r\n        diamond.lotID = this.textInput.value;\r\n        this.textInput.focus();\r\n        this.setState({ disableSave, diamond });\r\n    }\r\n    getLab = (element) => {\r\n        let disableSave = false;\r\n        let { diamond } = this.state;\r\n        let page;\r\n        diamond.lab = element.target.id;\r\n        if (element.target.id === \"None\") {\r\n            diamond.certificateNumber = \"\"\r\n        }\r\n        this.setState({\r\n            disableSave,\r\n            diamond\r\n        })\r\n    }\r\n    getWCC = () => {\r\n        let disableSave = false;\r\n        let { diamond } = this.state;\r\n\r\n        if (Number(this.weightInput.value) > 0) {\r\n            diamond.weight = Number(this.weightInput.value)\r\n        }\r\n        diamond.color = this.colorInput.value;\r\n        diamond.clarity = this.clarityInput.value;\r\n\r\n        if (diamond.shape && diamond.color && diamond.clarity && diamond.weight) {\r\n            diamond.list = listPrice(diamond.shape, diamond.color, diamond.clarity, diamond.weight, this.props.prices.response.body.price);\r\n        }\r\n        else diamond.list = 0;\r\n\r\n        this.setState({ disableSave, diamond })\r\n    }\r\n    getOther = () => {\r\n        let disableSave = false;\r\n        let { diamond } = this.state;\r\n        diamond.cut = this.cutInput.value;\r\n        diamond.polish = this.polishInput.value;\r\n        diamond.symmetry = this.symmetryInput.value;\r\n        diamond.fluorescence = this.fluorescenceInput.value;\r\n        diamond.fluorescenceColor = this.fluorescenceColorInput.value;\r\n        diamond.depth = this.depthInput.value;\r\n        diamond.table = this.tableInput.value;\r\n        diamond.girdle = this.girdleInput.value;\r\n        diamond.culet = this.culetInput.value;\r\n        diamond.crownAngle = this.crownAngleInput.value;\r\n        diamond.crownHeight = this.crownHeightInput.value;\r\n        diamond.pavillionAngle = this.pavillionAngleInput.value;\r\n        diamond.pavillionDepth = this.pavillionDepthInput.value;\r\n        diamond.lowerHalf = this.lowerHalfInput.value;\r\n\r\n        this.setState({ disableSave, diamond })\r\n    }\r\n    getPrices = () => {\r\n        let disableSave = false;\r\n        let { diamond } = this.state;\r\n\r\n        if (diamond.list) {\r\n            if (this.checkInput.value == \"on\") {\r\n                diamond.pricePerCarat = Math.round(diamond.list * (100 - Number(this.discountInput.value)) / 100);\r\n                diamond.discount = Number(this.discountInput.value);\r\n                diamond.keepDiscount = true;\r\n            }\r\n            else {\r\n                diamond.pricePerCarat = Number(this.priceInput.value);\r\n                diamond.discount = 100 - Math.round(Number(this.priceInput.value) / diamond.list * 10000) / 100;\r\n                diamond.keepDiscount = false;\r\n            }\r\n        } else {\r\n            diamond.pricePerCarat = Number(this.priceInput.value);\r\n            diamond.keepDiscount = false;\r\n        }\r\n\r\n\r\n        this.setState({ disableSave, diamond })\r\n    }\r\n    prepareLink = () => {\r\n        let linktoAdd = this.linkToAddInput.value;\r\n        this.setState({ linktoAdd })\r\n    }\r\n    addLink = () => {\r\n        let { linktoAdd, diamond } = this.state;\r\n        if (linktoAdd) {\r\n            diamond.links.push(linktoAdd);\r\n            let newState = {\r\n                linktoAdd: \"\",\r\n                disableSave: false,\r\n                diamond: diamond\r\n            }\r\n\r\n            this.setState(newState)\r\n        }\r\n    }\r\n    deleteLink = (index) => {\r\n\r\n        let { diamond } = this.state;\r\n        var newArr = diamond.links.splice(index, 1);\r\n        diamond.links = newArr\r\n        this.setState({\r\n            disableSave: false,\r\n            diamond: diamond\r\n        });\r\n    }\r\n    imgChange = (ev) => {\r\n        let { diamond, disableSave } = this.state;\r\n        disableSave = false;\r\n        let diamondImg = {};\r\n        diamondImg.file = ev.target.files[0];\r\n        if (diamondImg.file) {\r\n            diamondImg.url = URL.createObjectURL(diamondImg.file);\r\n            diamondImg.name = diamondImg.file.name\r\n        } else {\r\n            diamondImg = {};\r\n        }\r\n        if (ev.target.id === \"formFile1\") { diamond.pic1 = diamondImg } else { diamond.pic2 = diamondImg }\r\n        this.setState({ diamond, disableSave });\r\n    }\r\n    deleteImg = (ev) => {\r\n        let { diamond, disableSave } = this.state;\r\n        disableSave = false;\r\n        if (ev.target.id === \"deleteBtn1\") { diamond.pic1 = {} } else { diamond.pic2 = {} }\r\n\r\n        this.setState({ diamond, disableSave });\r\n    }\r\n\r\n    //flipping pages in the input modal   \r\n    nextPage = () => {\r\n        let { page } = this.state;\r\n        page++;\r\n\r\n        this.setState({ page })\r\n    }\r\n    previousPage = () => {\r\n        let { page } = this.state;\r\n        page--;\r\n\r\n        this.setState({ page })\r\n    }\r\n\r\n    //finish with the edit/adding of diamond\r\n\r\n    saveDiamond = () => {\r\n        const { diamond } = this.state;\r\n        const { edit } = this.props;\r\n        this.props.saveDiamond(diamond, edit)\r\n\r\n    }\r\n    //filtering to the activeuser listings only\r\n    myListings = () => {\r\n        let { filter } = this.props;\r\n        filter.owner = true;\r\n        this.props.setFilter(filter);\r\n    }\r\n\r\n    //rendering the modal input form\r\n    render() {\r\n        let pic1, pic2;\r\n        if (!this.props.activeUser || !this.state.diamond) return false;\r\n        if (this.state.diamond.pic1 !== {}) { pic1 = { name: this.state.diamond.pic1.name, url: this.state.diamond.pic1.url, hidden: false } } else pic1 = { name: null, url: null, hidden: true }\r\n        if (this.state.diamond.pic2 !== {}) { pic2 = { name: this.state.diamond.pic2.name, url: this.state.diamond.pic2.url, hidden: false } } else pic2 = { name: null, url: null, hidden: true }\r\n\r\n        let parse = [];\r\n        //if modal is closed and we are still in edit mode, cancel edit mode\r\n        if (!this.state.modal && this.props.edit !== -1) this.props.cancelEdit();\r\n\r\n        if (this.state.diamond.lotID === \"\" || this.state.diamond.shape === \"\" || this.state.diamond.weight === \"\" || this.state.diamond.color === \"\" || this.state.diamond.clarity === \"\" || this.state.page === 0) {\r\n            parse.push(\r\n                <div key={this.state.diamond.lotID}>\r\n                    <Modal.Body>Lot ID\r\n                                <InputGroup className=\"mb-3\">\r\n                            <FormControl onChange={this.getLotId} defaultValue={this.state.diamond.lotID} ref={(element) => { this.textInput = element }}\r\n                                placeholder=\"Enter Lot ID\"\r\n                            />\r\n                        </InputGroup>Choose shape\r\n                         <Image onClick={this.detectMouse} style={{ width: \"100%\" }} src={diamondsShape} rounded />\r\n                        <h3>Shape selected: {this.state.diamond.shape}</h3>\r\n                        Weight\r\n                                 <InputGroup className=\"mb-3\">\r\n\r\n                            <FormControl onChange={this.getWCC} defaultValue={this.state.diamond.weight} ref={(element) => { this.weightInput = element }}\r\n                                placeholder=\"Carat Weight\"\r\n                            />\r\n                        </InputGroup>\r\n                        <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                            <Form.Label>Color</Form.Label>\r\n                            <Form.Control onChange={this.getWCC} defaultValue={this.state.diamond.color} ref={(element) => { this.colorInput = element }} as=\"select\" >\r\n                                <option value=\"\"></option>\r\n                                <option value=\"D\">D</option>\r\n                                <option value=\"E\">E</option>\r\n                                <option value=\"F\">F</option>\r\n                                <option value=\"G\">G</option>\r\n                                <option value=\"H\">H</option>\r\n                                <option value=\"I\">I</option>\r\n                                <option value=\"J\">J</option>\r\n                                <option value=\"K\">K</option>\r\n                                <option value=\"L\">L</option>\r\n                                <option value=\"M\">M</option>\r\n                                <option value=\"N\">N</option>\r\n                                <option value=\"OP\">OP</option>\r\n                                <option value=\"QR\">QR</option>\r\n                                <option value=\"ST\">ST</option>\r\n                                <option value=\"UV\">UV</option>\r\n                                <option value=\"WX\">WX</option>\r\n                                <option value=\"YZ\">YZ</option>\r\n                                <option value=\"LIGHT FANCY\">F0-LIGHT FANCY</option>\r\n                                <option value=\"FANCY\">F1-FANCY</option>\r\n                                <option value=\"FANCY VIVID\">F2-FANCY VIVID</option>\r\n                                <option value=\"FANCY INTENCE\">F3-FANCY INTENCE</option>\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                            <Form.Label>Clarity</Form.Label>\r\n                            <Form.Control onChange={this.getWCC} defaultValue={this.state.diamond.clarity} ref={(element) => { this.clarityInput = element }} as=\"select\" >\r\n                                <option value=\"\"></option>\r\n                                <option value=\"FL\">FL</option>\r\n                                <option value=\"IF\">IF</option>\r\n                                <option value=\"VVS1\">VVS1</option>\r\n                                <option value=\"VVS2\">VVS2</option>\r\n                                <option value=\"VS1\">VS1</option>\r\n                                <option value=\"VS2\">VS2</option>\r\n                                <option value=\"SI1\">SI1</option>\r\n                                <option value=\"SI2\">SI2</option>\r\n                                <option value=\"SI3\">SI3</option>\r\n                                <option value=\"I1\">I1</option>\r\n                                <option value=\"I2\">I2</option>\r\n                                <option value=\"I3\">I3</option>\r\n\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n\r\n                    </Modal.Body>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        else\r\n            if (this.state.diamond.lab === \"\" || this.state.page === 1) {\r\n                parse.push(\r\n\r\n                    <Modal.Body><h2>Lab</h2>\r\n                        <Row>\r\n\r\n                            <Col lg=\"2\" md=\"3\" sm=\"4\" xs=\"4\">\r\n                                <Container className=\"certChoose\">\r\n                                    <a href=\"javascript:;\">\r\n                                        <h5 className=\"h5Cert\">GIA</h5>\r\n                                        <Image id=\"GIA\" onClick={this.getLab} style={{ width: \"70px\", border: \"1px solid blue\" }} src=\"https://miro.medium.com/max/1552/1*QAU1nlE_xhhKtZqxk13qkg.png\" rounded />\r\n                                    </a >\r\n                                </Container>\r\n                            </Col>\r\n\r\n\r\n                            <Col lg=\"2\" md=\"3\" sm=\"4\" xs=\"4\">\r\n                                <Container className=\"certChoose\">\r\n                                    <a href=\"javascript:;\" >\r\n                                        <h5 className=\"h5Cert\">EGL US</h5>\r\n                                        <Image id=\"EGL USA\" onClick={this.getLab} style={{ width: \"70px\", border: \"1px solid blue\" }} src=\"https://pbs.twimg.com/profile_images/2642768167/40f68a476a1518fc8069369fa65772c5_400x400.png\" rounded />\r\n                                    </a>\r\n                                </Container>\r\n                            </Col>\r\n                            <Col lg=\"2\" md=\"3\" sm=\"4\" xs=\"4\">\r\n                                <Container className=\"certChoose\">\r\n                                    <a href=\"javascript:;\" >\r\n\r\n                                        <h5 className=\"h5Cert\">EGL EU</h5>\r\n                                        <Image id=\"EGL EUROPE\" onClick={this.getLab} style={{ width: \"70px\", border: \"1px solid blue\" }} src=\" https://blog.brilliance.com/wp-content/uploads/2009/11/EGL.jpg\" rounded />\r\n                                    </a>\r\n                                </Container>\r\n                            </Col>\r\n\r\n                            <Col lg=\"2\" md=\"3\" sm=\"4\" xs=\"4\">\r\n                                <Container className=\"certChoose\">\r\n                                    <a href=\"javascript:;\" >\r\n                                        <h5 className=\"h5Cert\">HRD</h5>\r\n                                        <Image id=\"HRD\" onClick={this.getLab} style={{ width: \"70px\", border: \"1px solid blue\" }} src=\"https://is2-ssl.mzstatic.com/image/thumb/Purple128/v4/3b/79/e0/3b79e06e-78b0-2e30-61eb-41b074cb9744/source/512x512bb.jpg\" rounded />\r\n                                    </a>\r\n                                </Container>\r\n                            </Col>\r\n\r\n                            <Col lg=\"2\" md=\"3\" sm=\"4\" xs=\"4\">\r\n                                <Container className=\"certChoose\">\r\n                                    <a href=\"javascript:;\" >\r\n                                        <h5 className=\"h5Cert\">IGI</h5>\r\n                                        <Image id=\"IGI\" onClick={this.getLab} style={{ width: \"70px\", border: \"1px solid blue\" }} src=\"  https://qph.fs.quoracdn.net/main-qimg-54bbfbbb192682043358f75f481f63b5\" rounded />\r\n                                    </a>\r\n                                </Container>\r\n                            </Col>\r\n\r\n                            <Col lg=\"2\" md=\"3\" sm=\"4\" xs=\"4\">\r\n                                <Container className=\"certChoose\">\r\n                                    <a href=\"javascript:;\" >\r\n                                        <h5 className=\"h5Cert\">AGS</h5>\r\n                                        <Image id=\"AGS\" onClick={this.getLab} style={{ width: \"70px\", border: \"1px solid blue\" }} src=\"https://www.vividventure.com/upload/544.jpg\" rounded />\r\n                                    </a>\r\n                                </Container>\r\n                            </Col>\r\n\r\n                            <Col lg=\"2\" md=\"3\" sm=\"4\" xs=\"4\">\r\n                                <Container className=\"certChoose\">\r\n                                    <a href=\"javascript:;\" >\r\n                                        <h5 className=\"h5Cert\">NONE</h5>\r\n                                        <Image id=\"None\" onClick={this.getLab} style={{ width: \"70px\", border: \"1px solid blue\" }} src=\"https://www.clipart1001.com/wp-content/uploads/2018/12/Roblox-Clipart-Black-And-Outline.jpg\" rounded />\r\n                                    </a>\r\n                                </Container>\r\n                            </Col>\r\n\r\n                        </Row>\r\n                        <h3>Certificate Lab selected: {this.state.diamond.lab}</h3>\r\n                        <h2>Certificate Number</h2>\r\n                        <InputGroup className=\"mb-3\">\r\n\r\n                            <FormControl onChange={this.getCertNum} defaultValue={this.state.diamond.certificateNumber} ref={(element) => { this.certNumInput = element }}\r\n                                placeholder=\"Certificate number\"\r\n                            />\r\n                        </InputGroup>\r\n\r\n                    </Modal.Body>\r\n\r\n                )\r\n            }\r\n            else\r\n                if (this.state.diamond.pricePerCarat === \"\" || this.state.page === 2) {\r\n\r\n                    parse.push(\r\n                        <Modal.Body>\r\n                            <h3>price list for {this.state.diamond.shape} {this.state.diamond.weight} {this.state.diamond.color}  {this.state.diamond.clarity} : {this.state.diamond.list}</h3>\r\n                            <p> In case of priceChange, calculate prices and discounts by:</p>\r\n                            <Form.Group as={Row}>\r\n                                <Form.Label as=\"legend\" column sm={2}>\r\n                                </Form.Label>\r\n                                <Col sm={10}>\r\n                                    <Form.Check onChange={this.getPrices} ref={(element) => { this.checkInput = element }}\r\n                                        type=\"radio\"\r\n                                        label=\"keeping Discount unchanged\"\r\n                                        name=\"formHorizontalRadios\"\r\n                                        id=\"formHorizontalRadios1\"\r\n                                        checked\r\n                                    />\r\n                                    <Form.Check\r\n                                        type=\"radio\"\r\n                                        label=\"keeping price per carat unchanged\"\r\n                                        name=\"formHorizontalRadios\"\r\n                                        id=\"formHorizontalRadios2\"\r\n                                    />\r\n                                </Col>\r\n                            </Form.Group>\r\n                            <h2>Price Per Carat</h2>\r\n                            <InputGroup className=\"mb-3\">\r\n                                <span> <FormControl\r\n                                    defaultValue={this.state.diamond.pricePerCarat}\r\n                                    ref={(element) => { this.priceInput = element }}\r\n                                    onChange={() => {\r\n                                        if (this.state.diamond.list) { this.discountInput.value = 100 - (Math.round(((Number(this.priceInput.value)) / this.state.diamond.list) * 10000)) / 100 };\r\n                                        this.getPrices();\r\n                                    }\r\n\r\n                                    }\r\n\r\n                                    placeholder=\"price per carat\"\r\n                                />$</span>\r\n                            </InputGroup>\r\n                            <h2>Discount</h2>\r\n                            <InputGroup className=\"mb-3\">\r\n                                <span><FormControl\r\n                                    defaultValue={this.state.diamond.discount}\r\n                                    ref={(element) => { this.discountInput = element }}\r\n                                    onChange={() => {\r\n                                        if (this.state.diamond.list) { this.priceInput.value = Math.round(this.state.diamond.list * (100 - (Number(this.discountInput.value))) / 100) };\r\n                                        this.getPrices();\r\n                                    }\r\n                                    }\r\n\r\n                                    placeholder=\"Discount %\"\r\n                                />%</span>\r\n                            </InputGroup>\r\n                        </Modal.Body>\r\n\r\n                    )\r\n                }\r\n                else\r\n                    if (this.state.page === 3) {\r\n                        parse.push(\r\n                            <Modal.Body className=\"modalAddBody\">\r\n                                <Row>\r\n                                    <Col lg=\"2\" md=\"3\" sm=\"4\" xs=\"6\">\r\n                                        <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                                            <Form.Label>Cut</Form.Label>\r\n                                            <Form.Control onChange={this.getOther} defaultValue={this.state.diamond.cut} ref={(element) => { this.cutInput = element }} as=\"select\" >\r\n                                                <option value=\"\"></option>\r\n                                                <option value=\"EX\">Excellent</option>\r\n                                                <option value=\"VG\">Very good</option>\r\n                                                <option value=\"G\">Good</option>\r\n                                                <option value=\"F\">Fair</option>\r\n                                                <option value=\"P\">Poor</option>\r\n                                            </Form.Control>\r\n                                        </Form.Group>\r\n                                    </Col>\r\n                                    <Col lg=\"2\" md=\"3\" sm=\"4\" xs=\"6\">\r\n                                        <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                                            <Form.Label>Polish</Form.Label>\r\n                                            <Form.Control onChange={this.getOther} defaultValue={this.state.diamond.polish} ref={(element) => { this.polishInput = element }} as=\"select\" >\r\n                                                <option value=\"\"></option>\r\n                                                <option value=\"EX\">Excellent</option>\r\n                                                <option value=\"VG\">Very good</option>\r\n                                                <option value=\"G\">Good</option>\r\n                                                <option value=\"F\">Fair</option>\r\n                                                <option value=\"P\">Poor</option>\r\n                                            </Form.Control>\r\n                                        </Form.Group>\r\n                                    </Col>\r\n                                    <Col lg=\"2\" md=\"3\" sm=\"4\" xs=\"6\">\r\n                                        <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                                            <Form.Label>Symmetry</Form.Label>\r\n                                            <Form.Control onChange={this.getOther} defaultValue={this.state.diamond.symmetry} ref={(element) => { this.symmetryInput = element }} as=\"select\" >\r\n                                                <option value=\"\"></option>\r\n                                                <option value=\"EX\">Excellent</option>\r\n                                                <option value=\"VG\">Very good</option>\r\n                                                <option value=\"G\">Good</option>\r\n                                                <option value=\"F\">Fair</option>\r\n                                                <option value=\"P\">Poor</option>\r\n                                            </Form.Control>\r\n                                        </Form.Group>\r\n                                    </Col>\r\n                                    <Col lg=\"2\" md=\"3\" sm=\"4\" xs=\"6\">\r\n                                        <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                                            <Form.Label>fluorescence</Form.Label>\r\n                                            <Form.Control onChange={this.getOther} defaultValue={this.state.diamond.fluorescence} ref={(element) => { this.fluorescenceInput = element }} as=\"select\" >\r\n                                                <option value=\"\"></option>\r\n                                                <option value=\"None\">NONE</option>\r\n                                                <option value=\"Faint\">FAINT</option>\r\n                                                <option value=\"Medium\">MEDIUM</option>\r\n                                                <option value=\"Strong\">STRONG</option>\r\n                                                <option value=\"Very strong\">VERY STRONG</option>\r\n                                            </Form.Control>\r\n                                        </Form.Group>\r\n                                    </Col>\r\n                                    <Col lg=\"2\" md=\"3\" sm=\"4\" xs=\"6\">\r\n                                        <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                                            <Form.Label>Fl Color</Form.Label>\r\n                                            <Form.Control onChange={this.getOther} defaultValue={this.state.diamond.fluorescenceColor} ref={(element) => { this.fluorescenceColorInput = element }} as=\"select\" >\r\n                                                <option value=\"\"></option>\r\n                                                <option value=\"Yellow\">YELLOW</option>\r\n                                                <option value=\"White\">WHITE</option>\r\n                                                <option value=\"Green\">GREEN</option>\r\n                                            </Form.Control>\r\n                                        </Form.Group>\r\n                                    </Col>\r\n                                </Row>\r\n                                <Row>\r\n                                    <Col lg=\"2\" md=\"3\" sm=\"4\" xs=\"6\">\r\n                                        <Form.Label>Depth</Form.Label>\r\n                                        <InputGroup className=\"mb-3\">\r\n                                            <FormControl onChange={this.getOther} defaultValue={this.state.diamond.depth} ref={(element) => { this.depthInput = element }}\r\n                                                placeholder=\"Depth\"\r\n                                            />\r\n                                        </InputGroup>\r\n                                    </Col>\r\n                                    <Col lg=\"2\" md=\"3\" sm=\"4\" xs=\"6\">\r\n                                        <Form.Label>Table</Form.Label>\r\n                                        <InputGroup className=\"mb-3\">\r\n\r\n                                            <FormControl onChange={this.getOther} defaultValue={this.state.diamond.table} ref={(element) => { this.tableInput = element }}\r\n                                                placeholder=\"Table\"\r\n                                            />\r\n                                        </InputGroup>\r\n                                    </Col>\r\n\r\n                                    <Col lg=\"2\" md=\"3\" sm=\"4\" xs=\"6\">\r\n                                        <Form.Label>Girdle</Form.Label>\r\n                                        <InputGroup className=\"mb-3\">\r\n\r\n                                            <FormControl onChange={this.getOther} defaultValue={this.state.diamond.girdle} ref={(element) => { this.girdleInput = element }}\r\n                                                placeholder=\"Girdle\"\r\n                                            />\r\n                                        </InputGroup>\r\n                                    </Col>\r\n                                    <Col lg=\"2\" md=\"3\" sm=\"4\" xs=\"6\">\r\n                                        <Form.Group controlId=\"exampleForm.ControlSelect1\">\r\n                                            <Form.Label>Culet</Form.Label>\r\n                                            <Form.Control onChange={this.getOther} defaultValue={this.state.diamond.culet} ref={(element) => { this.culetInput = element }} as=\"select\" >\r\n                                                <option value=\"\"></option>\r\n                                                <option value=\"None\">None</option>\r\n                                                <option value=\"VS\">VERY SMALL</option>\r\n                                                <option value=\"S\">SMALL</option>\r\n                                                <option value=\"M\">MEDIUM</option>\r\n                                                <option value=\"L\">LARGE</option>\r\n                                                <option value=\"VL\">VERY LARGE</option>\r\n                                            </Form.Control>\r\n                                        </Form.Group>\r\n                                    </Col>\r\n                                </Row>\r\n                                <Row>\r\n                                    <Col lg=\"2\" md=\"2\" sm=\"2\" xs=\"2\">\r\n                                        <Form.Label>CA</Form.Label>\r\n                                        <InputGroup className=\"mb-3\">\r\n\r\n                                            <FormControl onChange={this.getOther} defaultValue={this.state.diamond.crownAngle} ref={(element) => { this.crownAngleInput = element }}\r\n                                                placeholder=\"CA\"\r\n                                            />\r\n                                        </InputGroup>\r\n                                    </Col>\r\n\r\n                                    <Col lg=\"2\" md=\"2\" sm=\"2\" xs=\"2\">\r\n                                        <Form.Label>CH</Form.Label>\r\n                                        <InputGroup className=\"mb-3\">\r\n\r\n                                            <FormControl onChange={this.getOther} defaultValue={this.state.diamond.crownHeight} ref={(element) => { this.crownHeightInput = element }}\r\n                                                placeholder=\"CH\"\r\n                                            />\r\n                                        </InputGroup>\r\n                                    </Col>\r\n                                    <Col lg=\"2\" md=\"2\" sm=\"2\" xs=\"2\">\r\n                                        <Form.Label>PA</Form.Label>\r\n                                        <InputGroup className=\"mb-3\">\r\n\r\n                                            <FormControl onChange={this.getOther} defaultValue={this.state.diamond.pavillionAngle} ref={(element) => { this.pavillionAngleInput = element }}\r\n                                                placeholder=\"PA\"\r\n                                            />\r\n                                        </InputGroup>\r\n                                    </Col>\r\n                                    <Col lg=\"2\" md=\"2\" sm=\"2\" xs=\"2\">\r\n                                        <Form.Label>PD</Form.Label>\r\n                                        <InputGroup className=\"mb-3\">\r\n\r\n                                            <FormControl onChange={this.getOther} defaultValue={this.state.diamond.pavillionDepth} ref={(element) => { this.pavillionDepthInput = element }}\r\n                                                placeholder=\"PD\"\r\n                                            />\r\n                                        </InputGroup>\r\n                                    </Col>\r\n                                    <Col lg=\"2\" md=\"2\" sm=\"2\" xs=\"2\">\r\n                                        <Form.Label>LH</Form.Label>\r\n                                        <InputGroup className=\"mb-3\">\r\n\r\n                                            <FormControl onChange={this.getOther} defaultValue={this.state.diamond.lowerHalf} ref={(element) => { this.lowerHalfInput = element }}\r\n                                                placeholder=\"LH\"\r\n                                            />\r\n                                        </InputGroup>\r\n                                    </Col>\r\n                                </Row>\r\n\r\n                            </Modal.Body>\r\n\r\n                        )\r\n                    }\r\n                    else\r\n                        if (this.state.page === 4) {\r\n\r\n                            parse.push(\r\n                                <Modal.Body className=\"modalAddBody\">\r\n                                    <Form.Label>Add Images Links</Form.Label>\r\n                                    <InputGroup className=\"mb-3\">\r\n                                        {/* <InputGroup.Text id=\"basic-addon2\">@example.com</InputGroup.Text> */}\r\n                                        <FormControl onChange={this.prepareLink} defaultValue={this.state.linktoAdd} ref={(element) => { this.linkToAddInput = element }}\r\n                                            placeholder=\"Place link here\" value={this.state.linktoAdd} style={{ width: \"300px\", marginRight: \"10px\" }} />\r\n                                        <Button onClick={this.addLink} variant=\"primary\">Add</Button>\r\n                                    </InputGroup>\r\n                                    <ListOfLinks deleteLink={this.deleteLink} links={this.state.diamond.links} />\r\n\r\n                                </Modal.Body>\r\n\r\n                            )\r\n                        }\r\n                        else\r\n                            if (this.state.page === 5) {\r\n\r\n                                parse.push(\r\n                                    <Modal.Body className=\"modalAddBody\">\r\n                                        <Form>\r\n                                            <Form.Group controlId=\"formFile1\">\r\n                                                <Form.Label >\r\n                                                    Choose an Image file\r\n                                                </Form.Label>\r\n                                                Image # 1\r\n                                                    <Form.Control data-id=\"1\" type=\"file\" placeholder=\"Diamond image URL\" accept=\"image/*\" onChange={this.imgChange} />\r\n\r\n                                                <Image src={pic1.url} style={{ width: \"15%\" }} fluid />\r\n                                                <p>{pic1.name}<Button onClick={this.deleteImg} id=\"deleteBtn1\" hidden={pic1.hidden} variant=\"danger\">Delete</Button></p>\r\n                                            </Form.Group>\r\n                                            <Form.Group controlId=\"formFile2\">\r\n                                                <Form.Label >\r\n                                                    Choose an Image file\r\n                                                </Form.Label>\r\n                                                Image # 2\r\n                                                    <Form.Control data-id=\"2\" type=\"file\" placeholder=\"Diamond image URL\" accept=\"image/*\" onChange={this.imgChange} />\r\n\r\n                                                <Image src={pic2.url} style={{ width: \"15%\" }} fluid />\r\n                                                <p>{pic2.name}<Button onClick={this.deleteImg} id=\"deleteBtn2\" hidden={pic2.hidden} variant=\"danger\">Delete</Button></p>\r\n\r\n                                            </Form.Group>\r\n\r\n                                        </Form>\r\n\r\n                                    </Modal.Body>\r\n\r\n                                )\r\n                            }\r\n\r\n        return (\r\n            <div style={{ position: \"relative\" }}>\r\n                <Button variant=\"success\" onClick={this.toggle} className=\"fullWin\">\r\n                    List New Diamond\r\n            </Button>\r\n                <Nav style={{ position: \"absolute\", left: \"-20px\", top: \"1px\" }}>\r\n                    <Nav.Link href=\"#/load\"><img style={{ width: \"100px\", height: \"40px\" }} src={excel}></img></Nav.Link>\r\n                </Nav>\r\n                <Button variant=\"info\" onClick={this.myListings} className=\"fullWin\">\r\n                    Only My Listings\r\n            </Button>\r\n                <Modal id=\"modalAdd\" size=\"xl\" show={this.state.modal} onHide={this.handleClose} animation={false}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>List New Diamond</Modal.Title>\r\n                    </Modal.Header>\r\n                    {parse}\r\n                    <Modal.Footer>\r\n                        <Button onClick={this.previousPage} variant=\"primary\" disabled={this.state.page === 0}>\r\n                            Back\r\n                    </Button>\r\n                        <Button variant=\"secondary\" onClick={this.handleClose}>\r\n                            Close\r\n                    </Button>\r\n                        <Button onClick={this.nextPage} variant=\"primary\" disabled={this.state.page === 5} >\r\n                            Next\r\n                    </Button>\r\n                        <Button variant=\"primary\" onClick={this.saveDiamond} disabled={this.state.disableSave}>\r\n                            Save My Diamond\r\n                    </Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\n","import React from 'react'\r\nimport { Row, Col, Accordion, Card } from 'react-bootstrap'\r\n\r\n\r\n\r\n//This Stupid component receives two props : edit & description. edit is the index of the diamond and description is all the data of the diamond\r\n//it uses acordeon to show the details of single diamond\r\nexport default class ShowDiamond extends React.Component {\r\n\r\n  render() {\r\n\r\n    var bgColorClass = \"\";\r\n    if (this.props.edit % 2 === 0) { bgColorClass = \"light-blue\" };\r\n    var pics = [];\r\n    for (var i = 0; i < this.props.description.links.length; i++) {\r\n      pics.push(<div style={{ margin: \"5px\" }} className=\"col-xl-2 col-lg-3 col-md-4 col-sm-6 col-12\">\r\n        <div className=\"content diamondContent\">\r\n          <a href=\"#\"><img className=\"smallPic\" src={this.props.description.links[i]} /></a>\r\n        </div>\r\n      </div>);\r\n    }\r\n    if (this.props.description.pic1 !== {}) {\r\n      pics.push(<div style={{ margin: \"5px\" }} className=\"col-xl-2 col-lg-3 col-md-4 col-sm-6 col-12\">\r\n        <div className=\"content diamondContent\">\r\n          <a href=\"#\"><img className=\"smallPic\" src={this.props.description.pic1.url} /></a>\r\n        </div>\r\n      </div>);\r\n    }\r\n    if (this.props.description.pic2 !== {}) {\r\n      pics.push(<div style={{ margin: \"5px\" }} className=\"col-xl-2 col-lg-3 col-md-4 col-sm-6 col-12\">\r\n        <div className=\"content diamondContent\">\r\n          <a href=\"#\"><img className=\"smallPic\" src={this.props.description.pic2.url} /></a>\r\n        </div>\r\n      </div>);\r\n    }\r\n    return (\r\n      <div>\r\n        {/* below are the details visible in accordeon */}\r\n        <Accordion key={this.props.description.id} defaultActiveKey=\"0\" style={{ backgroundColor: bgColorClass }}>\r\n          <Card>\r\n            <Accordion.Toggle as={Card.Header} eventKey={this.props.edit}>\r\n              <Row>\r\n                <Col lg=\"3\" md=\"12\" sm=\"12\" style={{ height: \"60px\" }}>\r\n                  <Row>\r\n\r\n                    <Col className=\"innerCol\" xl=\"3\">\r\n                      <div className=\"content diamondContent\">\r\n                        <h5 className=\"noMarginBottom\">Shape</h5>\r\n                        <p>{this.props.description.shape}</p>\r\n                      </div>\r\n                    </Col>\r\n                    <Col className=\"innerCol\" xl=\"3\">\r\n                      <div className=\"content diamondContent\">\r\n                        <h5 className=\"noMarginBottom\">Carat</h5>\r\n                        <p>{this.props.description.weight}</p>\r\n                      </div>\r\n                    </Col>\r\n\r\n                    <Col className=\"innerCol\" xl=\"3\">\r\n                      <div className=\"content diamondContent\">\r\n                        <h5 className=\"noMarginBottom\">Col</h5>\r\n                        <p>{this.props.description.color}</p>\r\n                      </div>\r\n                    </Col>\r\n                    <Col className=\"innerCol\" xl=\"3\">\r\n                      <div className=\"content diamondContent\">\r\n                        <h5 className=\"noMarginBottom\">Clar</h5>\r\n                        <p>{this.props.description.clarity}</p>\r\n                      </div>\r\n                    </Col>\r\n                  </Row>\r\n                </Col>\r\n                <Col lg=\"3\" md=\"12\" sm=\"12\" style={{ height: \"60px\" }}>\r\n                  <Row>\r\n                    <Col className=\"innerCol\" xl=\"3\">\r\n                      <div className=\"content diamondContent\">\r\n                        <h5 className=\"noMarginBottom\">Cut</h5>\r\n                        <p>{this.props.description.cut}</p>\r\n                      </div>\r\n                    </Col>\r\n                    <Col className=\"innerCol\" xl=\"3\">\r\n                      <div className=\"content diamondContent\">\r\n                        <h5 className=\"noMarginBottom\">Pol</h5>\r\n                        <p>{this.props.description.polish}</p>\r\n                      </div>\r\n                    </Col>\r\n                    <Col className=\"innerCol\" xl=\"3\">\r\n                      <div className=\"content diamondContent\">\r\n                        <h5 className=\"noMarginBottom\">Sym</h5>\r\n                        <p>{this.props.description.symmetry}</p>\r\n                      </div>\r\n                    </Col>\r\n                    <Col className=\"innerCol\" xl=\"3\">\r\n                      <div className=\"content diamondContent\">\r\n                        <h5 className=\"noMarginBottom\">FL</h5>\r\n                        <p>{this.props.description.fluorescence + \" \" + this.props.description.fluorescenceColor}</p>\r\n                      </div>\r\n                    </Col>\r\n                  </Row>\r\n                </Col>\r\n                <Col lg=\"3\" md=\"12\" sm=\"12\" style={{ height: \"60px\" }}>\r\n                  <Row>\r\n                    <Col className=\"innerCol\" xl=\"3\">\r\n                      <div className=\"content diamondContent\">\r\n                        <h5 className=\"noMarginBottom\">Depth</h5>\r\n                        <p>{this.props.description.depth}</p>\r\n                      </div>\r\n                    </Col>\r\n                    <Col className=\"innerCol\" xl=\"3\">\r\n                      <div className=\"content diamondContent\">\r\n                        <h5 className=\"noMarginBottom\">Table</h5>\r\n                        <p>{this.props.description.table}</p>\r\n                      </div>\r\n                    </Col>\r\n                    <Col className=\"innerCol\" xl=\"3\">\r\n                      <div className=\"content diamondContent\">\r\n                        <h5 className=\"noMarginBottom\">Lab</h5>\r\n                        <a target=\"_blank\" href={\"http://www.gia.edu/report-check?reportno=\" + this.props.description.certificateNumber}><p>{this.props.description.lab}</p></a>\r\n                      </div>\r\n                    </Col>\r\n                    <Col className=\"innerCol\" xl=\"3\">\r\n                      <div className=\"content diamondContent\">\r\n                        <h5 className=\"noMarginBottom\">Gird</h5>\r\n                        <p>{this.props.description.girdle}</p>\r\n                      </div>\r\n                    </Col>\r\n                  </Row>\r\n                </Col>\r\n                <Col lg=\"3\" md=\"12\" sm=\"12\" style={{ height: \"60px\" }}>\r\n                  <Row>\r\n                    <Col className=\"innerCol\" xl=\"3\">\r\n                      <div className=\"content diamondContent\">\r\n                        <h5 className=\"noMarginBottom\">Culet</h5>\r\n                        <p>{this.props.description.culet}</p>\r\n                      </div>\r\n                    </Col>\r\n                    <Col className=\"innerCol\" xl=\"3\">\r\n                      <div className=\"content diamondContent\">\r\n                        <h5 className=\"noMarginBottom\">Rap</h5>\r\n                        <p style={{fontSize:\"11px\"}}>{this.props.description.list}</p>\r\n                      </div>\r\n                    </Col>\r\n                    <Col className=\"innerCol\" xl=\"3\">\r\n                      <div className=\"content diamondContent\">\r\n                        <h5 className=\"noMarginBottom\">Disc%</h5>\r\n                        <p>{(Math.floor(this.props.description.discount * 10) / 10).toFixed() + \"%\"}</p>\r\n                      </div>\r\n                    </Col>\r\n                    <Col className=\"innerCol\" xl=\"3\">\r\n                      <div className=\"content diamondContent\">\r\n                        <h5 className=\"noMarginBottom\">Price$</h5>\r\n                        <p style={{fontSize:\"11px\"}}>{this.props.description.pricePerCarat.toFixed()}</p>\r\n                      </div>\r\n                    </Col>\r\n                  </Row>\r\n                </Col>\r\n\r\n              </Row>\r\n              {/* below are the details hiden in Accordion */}\r\n            </Accordion.Toggle>\r\n            <Accordion.Collapse eventKey={this.props.edit}>\r\n              <Card.Body>\r\n                <Row>\r\n                  <Col lg=\"3\" md=\"12\" sm=\"12\" style={{ height: \"60px\" }}>\r\n\r\n                    <Row>\r\n                      <Col className=\"innerCol\" xl=\"3\">\r\n                        <div className=\"content diamondContent\">\r\n                          <h5 className=\"noMarginBottom\">Lot</h5>\r\n                          <p style={{fontSize:\"11px\"}}>{this.props.description.lotID}</p>\r\n                        </div>\r\n                      </Col>\r\n\r\n\r\n\r\n\r\n                      <Col className=\"innerCol\" xl=\"3\">\r\n                        <div className=\"content diamondContent\">\r\n                          <h5 className=\"noMarginBottom\">Owner</h5>\r\n                          <p style={{fontSize:\"11px\"}}>{this.props.ownerName(this.props.description.owner.id)}</p>\r\n                        </div>\r\n                      </Col>\r\n\r\n                      <Col className=\"innerCol\" xl=\"3\">\r\n                        <div className=\"content diamondContent\">\r\n                          <h5 className=\"noMarginBottom\">Cert</h5>\r\n                          <a target=\"_blank\" href={\"http://www.gia.edu/report-check?reportno=\" + this.props.description.certificateNumber}><p style={{fontSize:\"11px\"}}>{this.props.description.certificateNumber}</p></a>\r\n\r\n                        </div>\r\n                      </Col>\r\n\r\n\r\n                      <Col className=\"innerCol\" xl=\"3\">\r\n                        <div className=\"content diamondContent\">\r\n                          <h5 className=\"noMarginBottom\">C.Angle</h5>\r\n                          <p>{this.props.description.crownAngle}</p>\r\n                        </div>\r\n                      </Col></Row></Col>\r\n                  <Col lg=\"3\" md=\"12\" sm=\"12\" style={{ height: \"60px\" }}>\r\n\r\n                    <Row>\r\n                      <Col className=\"innerCol\" xl=\"3\">\r\n                        <div className=\"content diamondContent\">\r\n                          <h5 className=\"noMarginBottom\">C.Heigh</h5>\r\n                          <p>{this.props.description.crownHeight}</p>\r\n                        </div>\r\n                      </Col>\r\n\r\n\r\n                      <Col className=\"innerCol\" xl=\"3\">\r\n                        <div className=\"content diamondContent\">\r\n                          <h5 className=\"noMarginBottom\">P.Angle</h5>\r\n                          <p>{this.props.description.pavillionAngle}</p>\r\n                        </div>\r\n                      </Col>\r\n\r\n\r\n                      <Col className=\"innerCol\" xl=\"3\">\r\n                        <div className=\"content diamondContent\">\r\n                          <h5 className=\"noMarginBottom\">P.Depth</h5>\r\n                          <p>{this.props.description.pavillionDepth}</p>\r\n                        </div>\r\n                      </Col>\r\n                      <Col className=\"innerCol\" xl=\"3\">\r\n                        <div className=\"content diamondContent\">\r\n                          <h5 className=\"noMarginBottom\">StarLen</h5>\r\n                          <p>{this.props.description.starLength}</p>\r\n                        </div>\r\n                      </Col></Row></Col>\r\n\r\n                  <Col lg=\"3\" md=\"12\" sm=\"12\" style={{ height: \"60px\" }}>\r\n                    <Row>\r\n\r\n                      <Col className=\"innerCol\" xl=\"3\">\r\n                        <div className=\"content diamondContent\">\r\n                          <h5 className=\"noMarginBottom\">LoHalf</h5>\r\n                          <p>{this.props.description.lowerHalf}</p>\r\n                        </div>\r\n                      </Col>\r\n                      <Col className=\"innerCol\" xl=\"3\">\r\n                        <div className=\"content diamondContent\">\r\n                          <h5 className=\"noMarginBottom\">Meas</h5>\r\n                          <p>{this.props.description.measurements()}</p>\r\n                        </div>\r\n                      </Col>\r\n                      <Col className=\"innerCol\" xl=\"3\">\r\n                        <div className=\"content diamondContent\">\r\n                          <h5 className=\"noMarginBottom\">Incl</h5>\r\n                          <p>{this.props.description.inclusions}</p>\r\n                        </div>\r\n                      </Col>\r\n                    </Row>\r\n                  </Col>\r\n                </Row>\r\n                <Row>\r\n                  {pics}\r\n                </Row>\r\n                <Row>\r\n                  {/* these childres are the action buttons and are declared in the father componenet DiamondList */}\r\n                  {this.props.children}\r\n                </Row>\r\n              </Card.Body>\r\n            </Accordion.Collapse>\r\n          </Card>\r\n        </Accordion>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Slider from '@material-ui/core/Slider';\r\n\r\n\r\n//two sided slider for color and clarity filter\r\nexport default function HorizontalColorSlider(props) {\r\n    \r\n    const useStyles = makeStyles({\r\n        root: {\r\n          width: 450,\r\n        },\r\n      });\r\n      \r\n  const classes = useStyles();\r\n  function valuetext(value) {\r\n    return `${value}C`;\r\n  }\r\n  let marks,max;\r\n  //color slider value marks\r\n  if (props.name===\"Color\"){\r\n  marks = [\r\n    {\r\n      value: 0,\r\n      label: 'D',\r\n    },\r\n    {\r\n      value: 1,\r\n      label: 'E',\r\n    },\r\n    {\r\n      value: 2,\r\n      label: 'F',\r\n    },\r\n    {\r\n      value: 3,\r\n      label: 'G',\r\n    },\r\n    {\r\n      value: 4,\r\n      label: 'H',\r\n    },\r\n    {\r\n      value: 5,\r\n      label: 'I',\r\n    },\r\n    {\r\n      value: 6,\r\n      label: 'J',\r\n    },\r\n    {\r\n      value: 7,\r\n      label: 'K',\r\n    },\r\n    {\r\n      value: 8,\r\n      label: 'L',\r\n    },\r\n    {\r\n      value: 9,\r\n      label: 'M',\r\n    },\r\n    {\r\n      value: 10,\r\n      label: 'N',\r\n    },\r\n    {\r\n      value: 11,\r\n      label: 'OP',\r\n    },\r\n    {\r\n      value: 12,\r\n      label: 'QR',\r\n    },\r\n    {\r\n      value: 13,\r\n      label: 'ST',\r\n    },\r\n    {\r\n      value: 14,\r\n      label: 'UV',\r\n    },\r\n    {\r\n      value: 15,\r\n      label: 'WX',\r\n    },\r\n    {\r\n      value: 16,\r\n      label: 'YZ',\r\n    },\r\n  ];\r\n  max=16;\r\n}\r\n//clarity slider mark values\r\nelse if (props.name===\"Clarity\"){\r\n    marks = [\r\n        {\r\n          value: 0,\r\n          label: 'FL',\r\n        },\r\n        {\r\n          value: 1,\r\n          label: 'IF',\r\n        },\r\n        {\r\n          value: 2,\r\n          label: 'VVS1',\r\n        },\r\n        {\r\n          value: 3,\r\n          label: 'VVS2',\r\n        },\r\n        {\r\n          value: 4,\r\n          label: 'VS1',\r\n        },\r\n        {\r\n          value: 5,\r\n          label: 'VS2',\r\n        },\r\n        {\r\n          value: 6,\r\n          label: 'SI1',\r\n        },\r\n        {\r\n          value: 7,\r\n          label: 'SI2',\r\n        },\r\n        {\r\n          value: 8,\r\n          label: 'SI3',\r\n        },\r\n        {\r\n          value: 9,\r\n          label: 'I1',\r\n        },\r\n        {\r\n            value: 10,\r\n            label: 'I2',\r\n          },\r\n          {\r\n            value: 11,\r\n            label: 'I3',\r\n          },\r\n      ];  \r\n      max=11; \r\n}\r\nif (props.name===\"Color\"&&props.filter.clearColorFilter){\r\n  let filter=props.filter;\r\n  filter.clearColorFilter=false;\r\n  props.setFilter(filter);\r\n  return false;\r\n\r\n} else if (props.name===\"Clarity\"&&props.filter.clearClarityFilter){\r\n  let filter=props.filter;\r\n  filter.clearClarityFilter=false;\r\n  props.setFilter(filter);\r\n  return false;\r\n} else\r\n  return (\r\n    <React.Fragment>\r\n      <Typography id=\"horizontal-slider\" gutterBottom>\r\n        \r\n      </Typography>\r\n      <div className={classes.root}>\r\n        {props.name}\r\n        <Slider\r\n        onChangeCommitted={(e,val)=>{props.change(val)}}\r\n          orientation=\"horizontal\"\r\n          defaultValue={[0, max]}\r\n          aria-labelledby=\"horizontal-slider\"\r\n          getAriaValueText={valuetext}\r\n          marks={marks}\r\n          max={max}\r\n        />\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport HorizontalColorSlider from './Slider'\r\nimport { Form, Row, Col, FormControl } from 'react-bootstrap'\r\nimport { Button } from '@material-ui/core';\r\nimport {colorValue,clarityValue} from '../Classes/Diamond'\r\n// import Multiselect from 'react-bootstrap-multiselect'\r\n// import '../multiselect.css'\r\n\r\n\r\n//returns color value\r\nfunction num2color(value) {\r\n  switch (value) {\r\n    case 0:\r\n      return \"D\";\r\n      break;\r\n    case 1:\r\n      return \"E\";\r\n      break;\r\n    case 2:\r\n      return \"F\";\r\n      break;\r\n    case 3:\r\n      return \"G\";\r\n      break;\r\n    case 4:\r\n      return \"H\";\r\n      break;\r\n    case 5:\r\n      return \"I\";\r\n      break;\r\n    case 6:\r\n      return \"J\";\r\n      break;\r\n    case 7:\r\n      return \"K\";\r\n      break;\r\n    case 8:\r\n      return \"L\";\r\n      break;\r\n    case 9:\r\n      return \"M\";\r\n      break;\r\n    case 10:\r\n      return \"N\";\r\n      break;\r\n    case 11:\r\n      return \"OP\";\r\n      break;\r\n    case 12:\r\n      return \"QR\";\r\n      break;\r\n    case 13:\r\n      return \"ST\";\r\n      break;\r\n    case 14:\r\n      return \"UV\";\r\n      break;\r\n    case 15:\r\n      return \"WX\";\r\n      break;\r\n    case 16:\r\n      return \"YZ\";\r\n      break;\r\n    default:\r\n      return false;\r\n  }\r\n}\r\n//returns clarity value\r\nfunction num2clarity(value) {\r\n  switch (value) {\r\n    case 0:\r\n      return \"FL\";\r\n      break;\r\n    case 1:\r\n      return \"IF\";\r\n      break;\r\n    case 2:\r\n      return \"VVS1\";\r\n      break;\r\n    case 3:\r\n      return \"VVS2\";\r\n      break;\r\n    case 4:\r\n      return \"VS1\";\r\n      break;\r\n    case 5:\r\n      return \"VS2\";\r\n      break;\r\n    case 6:\r\n      return \"SI1\";\r\n      break;\r\n    case 7:\r\n      return \"SI2\";\r\n      break;\r\n    case 8:\r\n      return \"SI3\";\r\n      break;\r\n    case 9:\r\n      return \"I1\";\r\n      break;\r\n    case 10:\r\n      return \"I2\";\r\n      break;\r\n    case 11:\r\n      return \"I3\";\r\n      break;\r\n    default:\r\n      return false;\r\n  }\r\n}\r\n\r\n//filter\r\nexport default class SearchDiamondForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      tglAll: \"Select all shapes\",\r\n      filter:{\r\n        weightMin:\"\",\r\n        weightMax:\"\",\r\n      }\r\n    }\r\n  }\r\n\r\n//click on a shape filter wiil toggle selection from/to filter\r\n  toggleChoice = (e) => {\r\n    let { filter, setFilter } = this.props;\r\n    if (!filter.shape.includes(e.target.innerHTML)) { filter.shape.push(e.target.innerHTML) }\r\n    else {\r\n      for (var i = 0; i < filter.shape.length; i++) {\r\n        if (filter.shape[i] === e.target.innerHTML) {\r\n          filter.shape.splice(i, 1);\r\n        }\r\n      }\r\n    }\r\n    setFilter(filter);\r\n  }\r\n\r\n//toggle all shape to/from filter\r\n  toggleAll = (e) => {\r\n    let allShapes = [\"BR\", \"OV\", \"PS\", \"MQ\", \"HS\", \"PRI\", \"RAD\", \"EM\",\"AS\", \"CU\", \"BG\", \"TRI\"]\r\n    let { filter, setFilter } = this.props;\r\n    let { tglAll } = this.state;\r\n    if (tglAll === \"Select all shapes\") { filter.shape = allShapes; tglAll = \"Clear all shapes\" }\r\n    else {\r\n      filter.shape = []; tglAll = \"Select all shapes\"\r\n    }\r\n    this.setState({ tglAll });\r\n    setFilter(filter);\r\n  }\r\n\r\n  //changing weight minimum filter value\r\n  setMinWeight = (e) => {\r\n\r\n    let { setFilter } = this.props;\r\n    let filter1=this.props.filter;\r\n    let filter=this.state.filter;\r\n    filter1.weightMin = e.target.value;\r\n    filter.weightMin=e.target.value;\r\n    if (filter1.weightMin===\"\") filter1.weightMin=0;\r\n    this.setState({filter});\r\n    setFilter(filter1);\r\n  }\r\n\r\n  //changing weight maximum filter value\r\n  setMaxWeight = (e) => {\r\n\r\n    let { setFilter } = this.props;\r\n    let filter1=this.props.filter;\r\n    let filter=this.state.filter;\r\n    filter1.weightMax = e.target.value;\r\n    filter.weightMax=e.target.value;\r\n    if (filter1.weightMax===\"\") filter1.weightMax=10000;\r\n    this.setState({filter});\r\n    setFilter(filter1);\r\n  }\r\n\r\n  //set color minimum and maximum on change in color slider\r\n  setColorFilter = (value) => {\r\n    let { filter, setFilter } = this.props;\r\n    filter.colorMin = num2color(value[0]);\r\n    filter.colorMax = num2color(value[1]);\r\n    setFilter(filter);\r\n  }\r\n\r\n   //set clarity minimum and maximum on change in clarity slider\r\n  setClarityFilter = (value) => {\r\n    let { filter, setFilter } = this.props;\r\n    filter.clarityMin = num2clarity(value[0]);\r\n    filter.clarityMax = num2clarity(value[1]);\r\n    setFilter(filter);\r\n  }\r\n\r\n  //clear all filters\r\n  clearTheFilter= ()=>{\r\n    const {clearFilter } = this.props;\r\n    let {filter } = this.state;\r\n    filter.weightMax=\"\";\r\n    filter.weightMin=\"\";\r\n    clearFilter();\r\n    this.setState({filter});\r\n\r\n  }\r\n  render() {\r\n\r\n    let br, ov, ps, mq, hs, pri, rad, em, cu, bg, tri, asher;\r\n    //sets the color of each shape according to its filter value\r\n    if (this.props.filter.shape.includes(\"BR\")) { br = \"success\" } else { br = \"light\" };\r\n    if (this.props.filter.shape.includes(\"OV\")) { ov = \"success\" } else { ov = \"light\" };\r\n    if (this.props.filter.shape.includes(\"MQ\")) { mq = \"success\" } else { mq = \"light\" };\r\n    if (this.props.filter.shape.includes(\"HS\")) { hs = \"success\" } else { hs = \"light\" };\r\n    if (this.props.filter.shape.includes(\"PS\")) { ps = \"success\" } else { ps = \"light\" };\r\n    if (this.props.filter.shape.includes(\"PRI\")) { pri = \"success\" } else { pri = \"light\" };\r\n    if (this.props.filter.shape.includes(\"RAD\")) { rad = \"success\" } else { rad = \"light\" };\r\n    if (this.props.filter.shape.includes(\"EM\")) { em = \"success\" } else { em = \"light\" };\r\n    if (this.props.filter.shape.includes(\"CU\")) { cu = \"success\" } else { cu = \"light\" };\r\n    if (this.props.filter.shape.includes(\"TRI\")) { tri = \"success\" } else { tri = \"light\" };\r\n    if (this.props.filter.shape.includes(\"BG\")) { bg = \"success\" } else { bg = \"light\" };\r\n    if (this.props.filter.shape.includes(\"AS\")) { asher = \"success\" } else { asher = \"light\" };\r\n   \r\n    var width60 = { width: \"60px\" };\r\n    return (\r\n      <Form>\r\n        <Button style={{backgroundColor:\"pink\",border:\"none\",borderRadius:\"5px\",marginTop:\"5px\",height:\"40px\"}} onClick={this.clearTheFilter} className=\"fullWin\">\r\n                    Clear all filters\r\n        </Button> \r\n        <h3 style={{marginTop:\"10px\"}}> Filter</h3>\r\n        <Row>\r\n          <Col lg=\"12\" md=\"12\" sm=\"12\" xs=\"12\">\r\n            {/* clear all shapes or choose all shapes */}\r\n            <button style={{marginBottom:\"5px\"}} onClick={this.toggleAll} type=\"button\" className={`btn btn-primary`}>{this.state.tglAll}</button>\r\n          </Col>\r\n          {/* all shapes buttons */}\r\n          <Col lg=\"1\" md=\"2\" sm=\"3\" xs=\"4\">\r\n            <button onClick={this.toggleChoice} type=\"button\" className={`btn btn-${br}`}>BR</button>\r\n          </Col>\r\n          <Col lg=\"1\" md=\"2\" sm=\"3\" xs=\"4\">\r\n            <button onClick={this.toggleChoice} type=\"button\" className={`btn btn-${ov}`}>OV</button>\r\n          </Col>\r\n          <Col lg=\"1\" md=\"2\" sm=\"3\" xs=\"4\">\r\n            <button onClick={this.toggleChoice} type=\"button\" className={`btn btn-${ps}`}>PS</button>\r\n          </Col>\r\n          <Col lg=\"1\" md=\"2\" sm=\"3\" xs=\"4\">\r\n            <button onClick={this.toggleChoice} type=\"button\" className={`btn btn-${mq}`}>MQ</button>\r\n          </Col>\r\n          <Col lg=\"1\" md=\"2\" sm=\"3\" xs=\"4\">\r\n            <button onClick={this.toggleChoice} type=\"button\" className={`btn btn-${hs}`}>HS</button>\r\n          </Col>\r\n          <Col lg=\"1\" md=\"2\" sm=\"3\" xs=\"4\">\r\n            <button onClick={this.toggleChoice} type=\"button\" className={`btn btn-${pri}`}>PRI</button>\r\n          </Col>\r\n          <Col lg=\"1\" md=\"2\" sm=\"3\" xs=\"4\">\r\n            <button onClick={this.toggleChoice} type=\"button\" className={`btn btn-${em}`}>EM</button>\r\n          </Col>\r\n          <Col lg=\"1\" md=\"2\" sm=\"3\" xs=\"4\">\r\n            <button onClick={this.toggleChoice} type=\"button\" className={`btn btn-${asher}`}>AS</button>\r\n          </Col>\r\n          <Col lg=\"1\" md=\"2\" sm=\"3\" xs=\"4\">\r\n            <button onClick={this.toggleChoice} type=\"button\" className={`btn btn-${rad}`}>RAD</button>\r\n          </Col>\r\n          <Col lg=\"1\" md=\"2\" sm=\"3\" xs=\"4\">\r\n            <button onClick={this.toggleChoice} type=\"button\" className={`btn btn-${cu}`}>CU</button>\r\n          </Col>\r\n          <Col lg=\"1\" md=\"2\" sm=\"3\" xs=\"4\">\r\n            <button onClick={this.toggleChoice} type=\"button\" className={`btn btn-${bg}`}>BG</button>\r\n          </Col>\r\n          <Col lg=\"1\" md=\"2\" sm=\"3\" xs=\"4\">\r\n            <button onClick={this.toggleChoice} type=\"button\" className={`btn btn-${tri}`}>TRI</button>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n{/* //weight input minimum and maximum */}\r\n          <Form.Group as={Col} xl=\"3\" lg=\"3\" sm=\"12\" controlId=\"validationCustom05\">\r\n            <Form.Label>Weight From</Form.Label>\r\n            <Form.Control onChange={this.setMinWeight} type=\"number\" placeholder=\"From\" value={this.state.filter.weightMin}/>\r\n            <Form.Control.Feedback type=\"invalid\">\r\n            </Form.Control.Feedback>\r\n            <Form.Label>Weight To</Form.Label>\r\n            <Form.Control onChange={this.setMaxWeight} type=\"number\" placeholder=\"To\" value={this.state.filter.weightMax} />\r\n            <Form.Control.Feedback type=\"invalid\">\r\n            </Form.Control.Feedback>\r\n          </Form.Group>\r\n          <Form.Group as={Col} xl=\"9\" lg=\"9\" sm=\"12\" controlId=\"validationCustom05\">\r\n            {/* sliders , one for color and one for clarity */}\r\n            <HorizontalColorSlider setFilter={this.props.setFilter} filter={this.props.filter} name=\"Color\" change={(value) => { this.setColorFilter(value) }} />\r\n            <HorizontalColorSlider setFilter={this.props.setFilter} filter={this.props.filter} name=\"Clarity\" change={(value) => { this.setClarityFilter(value)}} />\r\n          </Form.Group>\r\n        </Row>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { Modal, Button, InputGroup, FormControl, Alert } from 'react-bootstrap'\r\n\r\nexport default class SendMessageModal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            show: false,\r\n            modal: this.props.show,\r\n            diamond: this.props.diamond,\r\n        }\r\n    \r\n    }\r\n    handleClose = () => {\r\n        this.setState({\r\n            modal: false,\r\n            show: false\r\n        });\r\n        this.props.close();\r\n\r\n    }\r\n    contactSeller = () => {\r\n        const { addMessage, activeUser, ownerName } = this.props;\r\n        const { diamond } = this.state;\r\n        let { show } = this.state;\r\n        addMessage(this.textInput.value, activeUser.id, diamond.owner.id);\r\n        show = true;\r\n        this.setState({ show })\r\n        // this.handleClose();\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        let newState = {\r\n            modal: nextProps.show,\r\n            diamond: nextProps.diamond,\r\n        }\r\n        this.setState(newState)\r\n    }\r\n    render() {\r\n\r\n        const { addMessage, activeUser, ownerName } = this.props;\r\n        const { modal, diamond } = this.state;\r\n        let showLotId;\r\n        let showOwnerId;\r\n        if (diamond) { showOwnerId = diamond.owner.id; showLotId = diamond.lotID } else return false;\r\n        return (\r\n            <Modal show={modal}\r\n                size=\"lg\"\r\n                aria-labelledby=\"contained-modal-title-vcenter\"\r\n                centered\r\n            >\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title id=\"contained-modal-title-vcenter\">\r\n                        Send Message to {this.props.ownerName(showOwnerId)}\r\n                    </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body style={{ height: \"300px\" }}>\r\n                    <h4>Regarding Diamond {showLotId}</h4>\r\n                    <InputGroup className=\"mb-0\">\r\n                        <FormControl\r\n                            ref={(element) => { this.textInput = element }}\r\n                            as=\"textarea\" rows=\"10\"\r\n                            defaultValue={`Hi ${ownerName(showOwnerId)}, I am contacting you regarding your diamond: ${showOwnerId} ${diamond.shape} ${diamond.color} ${diamond.clarity}`}\r\n                            aria-label=\"User\"\r\n                            aria-describedby=\"basic-addon1\"\r\n                        />\r\n                    </InputGroup>\r\n                    <Alert style={{ width: \"100%\" }} variant=\"primary\" show={this.state.show}>\r\n                        message Sent {ownerName(showOwnerId)}\r\n                    </Alert>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button onClick={() => { this.contactSeller() }}>Send</Button>\r\n                    <Button onClick={this.handleClose}>Close</Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n","import React from 'react'\r\nimport { Modal, Button,InputGroup,FormControl,Alert } from 'react-bootstrap'\r\n\r\nexport default class SendOfferModal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            show: false,\r\n            modal: this.props.show,\r\n            diamond: this.props.diamond,\r\n        }\r\n    }\r\n    handleClose = () => {\r\n        this.setState({\r\n            modal: false,\r\n            show: false\r\n        });\r\n        this.props.close();\r\n\r\n    }\r\n    contactSeller = () => {\r\n        const { addMessage, activeUser,ownerName } = this.props;\r\n        const { diamond } = this.state;\r\n        let { show } = this.state;\r\n        addMessage(this.textInput.value, activeUser.id, diamond.owner.id);\r\n        show = true;\r\n        this.setState({ show })\r\n        // this.handleClose();\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        let newState = {\r\n            modal: nextProps.show,\r\n            diamond: nextProps.diamond,\r\n        }\r\n        this.setState(newState)\r\n    }\r\n    render() {\r\n        const { addMessage, activeUser,ownerName } = this.props;\r\n        const { modal, diamond } = this.state;\r\n        let showLotId;\r\n        let showOwnerId;\r\n        let showPrice;\r\n        if (diamond) {showPrice=diamond.pricePerCarat; showOwnerId=diamond.owner.id; showLotId=diamond.lotID} else return false;\r\n        return (\r\n            <Modal show={modal}\r\n                size=\"sm\"\r\n                aria-labelledby=\"contained-modal-title-vcenter\"\r\n                centered\r\n            >\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title id=\"contained-modal-title-vcenter\">\r\n                        Send Offer to {this.props.ownerName(showOwnerId)}\r\n                    </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body style={{height:\"300px\"}}>\r\n                    <h4>Regarding Diamond {showLotId}</h4>\r\n                    <h4>Asking Price: {showPrice}</h4>\r\n                    <InputGroup className=\"mb-0\">\r\n                        <FormControl\r\n                             ref={(element)=>{this.textInput=element}}\r\n                            as=\"textarea\" rows=\"10\" \r\n                            defaultValue = {`Hi ${ownerName(showOwnerId)}, I am Offering you on your diamond: ${showOwnerId} ${diamond.shape} ${diamond.color} ${diamond.clarity}, XXXXX Dollars per carat. what do you say?`}\r\n                            aria-label=\"User\"\r\n                            aria-describedby=\"basic-addon1\"\r\n                        />\r\n                    </InputGroup>\r\n                    <Alert style={{ width: \"100%\" }} variant=\"primary\" show={this.state.show}>\r\n                        Offer Sent to {ownerName(showOwnerId)}\r\n                    </Alert>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button onClick={() => { this.contactSeller() }}>Send</Button>\r\n                    <Button onClick={this.handleClose}>Close</Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        );\r\n    }\r\n}\r\n","import React from 'react'\r\nimport { Button, ButtonToolbar, Alert } from 'react-bootstrap'\r\nimport ShowDiamond from '../components/ShowDiamond'\r\nimport SearchDiamondForm from '../components/SearchDiamondForm'\r\nimport SendMessageModal from '../components/SendMessageModal'\r\nimport SendOfferModal from '../components/SendOfferModal'\r\n\r\n\r\n//RECIVES 3 PROPS \r\n//deleteDiamond=FUNCTION TO DELETE A DIAMOND(INDEX OF THE DELETED DIAMOND) \r\n//editDiamond=FUNCTION THAT CHANGES THE STATE OF THE FATHER COMPONENT SO\r\n//                          THE ADDDIAMOND MODAL CHANGES TO EDIT MODAL(INDEX OF THE DIAMOND TO BE EDITED) \r\n//list=ARRAY OF DIAMONDS\r\nexport default class DiamondList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modal: false,\r\n      modalOffer: false,\r\n      index: \"\",\r\n      list: this.props.list,\r\n      show: false\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    setInterval(this.hideAlert, 10000);\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    let list = nextProps.list;\r\n    this.setState({ list })\r\n  }\r\n\r\n  toggle = (e) => {\r\n    this.setState({\r\n      modal: !this.state.modal,\r\n      index: e.target.value\r\n    });\r\n  }\r\n  toggleOffer = (e) => {\r\n    this.setState({\r\n      modalOffer: !this.state.modalOffer,\r\n      index: e.target.value\r\n    });\r\n  }\r\n  handleClose = () => {\r\n    this.setState({\r\n      modal: false,\r\n      modalOffer: false,\r\n    });\r\n\r\n  }\r\n  // CALLS THE FATHER COMPONENT'S FUNCTION DELETEDIAMOND WITH THE INDEX OF THE DIAMOND\r\n  deleteDiamond = (element) => {\r\n    this.props.deleteDiamond(element.target.value)\r\n  }\r\n  // CALLS THE FATHER COMPONENT'S FUNCTION EDITDIAMOND WITH THE INDEX OF THE DIAMOND\r\n  editDiamond = (element) => {\r\n\r\n    this.props.editDiamond(element.target.value)\r\n  }\r\n  showAlert = () => {\r\n    let { show } = this.state;\r\n    show = true;\r\n    this.setState({ show });\r\n  }\r\n  hideAlert = () => {\r\n    let { show } = this.state;\r\n    show = false;\r\n    this.setState({ show });\r\n  }\r\n  render() {\r\n    const {cart}=this.props;\r\n\r\n    var result = [];\r\n    for (var i = 0; i < this.state.list.length; i++) {\r\n      if (this.state.list[i].inFilter(this.props.filter)\r\n        && (!this.props.filter.owner\r\n          || this.state.list[i].owner.id === this.props.activeUser.id)) {\r\n        if (!this.props.activeUser) {\r\n          //IF anonimus \r\n          //DISPLAY SINGLE DIAMOND\r\n\r\n          result.push( <ShowDiamond  key={i} ownerName={this.props.ownerName} edit={i} description={this.state.list[i]}>\r\n            <ButtonToolbar>\r\n              {/* DISPLAY THE USER'S ACTION BUTTONS */}\r\n              <Button onClick={(e) => {\r\n                  if (!cart.includes(this.state.list[e.target.value].id)){\r\n                  this.props.addToCart(this.state.list[e.target.value].id);\r\n                  this.showAlert();\r\n                }}}\r\n                value={i} style={{ width: \"100px\", height: \"60px\", marginLeft: \"15px\", marginTop: \"10px\" }} variant=\"success\">Add to Cart</Button>\r\n            </ButtonToolbar>\r\n          </ShowDiamond>\r\n          )\r\n          ;\r\n        }\r\n\r\n        else\r\n          if (this.state.list[i].owner.id == this.props.activeUser.id) {\r\n            //IF THE USER IS THE OWNER OF THE DIAMOND\r\n            //DISPLAY SINGLE DIAMOND\r\n            result.push(<ShowDiamond key={i} ownerName={this.props.ownerName} edit={i} description={this.state.list[i]}>\r\n              <ButtonToolbar>\r\n                {/* DISPLAY THE OWNER'S ACTION BUTTONS */}\r\n                <Button onClick={this.editDiamond} value={i} style={{ width: \"100px\", height: \"60px\", marginLeft: \"15px\", marginTop: \"10px\" }} variant=\"warning\">Edit</Button>\r\n                <Button onClick={this.deleteDiamond} value={i} style={{ width: \"100px\", height: \"60px\", marginLeft: \"15px\", marginTop: \"10px\" }} variant=\"danger\">Delete</Button>\r\n                {/* <Button value={i} style={{ width: \"100px\", height: \"60px\", marginLeft: \"15px\", marginTop: \"10px\" }} variant=\"dark\" >Add to Auction</Button> */}\r\n              </ButtonToolbar>\r\n            </ShowDiamond>)\r\n            ;\r\n          }\r\n          else {\r\n            //IF THE USER IS NOT THE OWNER OF THE DIAMOND\r\n            //DISPLAY SINGLE DIAMOND\r\n            result.push(<ShowDiamond key={i}  ownerName={this.props.ownerName} edit={i} description={this.state.list[i]}>\r\n              <ButtonToolbar>\r\n                {/* DISPLAY THE USER'S ACTION BUTTONS */}\r\n\r\n                <Button onClick={this.toggleOffer} value={i} style={{ width: \"100px\", height: \"60px\", marginLeft: \"15px\", marginTop: \"10px\" }} variant=\"primary\">Offer</Button>\r\n                <Button onClick={(e) => {\r\n                  if (!cart.includes(this.state.list[e.target.value].id)){\r\n                  this.props.addToCart(this.state.list[e.target.value].id);\r\n                  this.showAlert();\r\n                }}}\r\n                  value={i} style={{ width: \"100px\", height: \"60px\", marginLeft: \"15px\", marginTop: \"10px\" }} variant=\"success\">Add to cart</Button>\r\n                <Button onClick={this.toggle} value={i} style={{ width: \"100px\", height: \"60px\", marginLeft: \"15px\", marginTop: \"10px\" }} variant=\"secondary\" >Contact seller</Button>\r\n                {/* <Button value={i} style={{ width: \"100px\", height: \"60px\", marginLeft: \"15px\", marginTop: \"10px\" }} variant=\"info\" >Bid</Button> */}\r\n              </ButtonToolbar>\r\n            </ShowDiamond>);\r\n          }\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <Alert id=\"alertAddToCart\" key=\"alert\" variant=\"info\" show={this.state.show}>\r\n          Diamond has been added to your Cart\r\n        </Alert>\r\n        <SearchDiamondForm clearFilter={this.props.clearFilter} filter={this.props.filter} setFilter={this.props.setFilter} />\r\n        {result}\r\n        <SendMessageModal show={this.state.modal} diamond={this.state.list[this.state.index]} activeUser={this.props.activeUser} addMessage={this.props.addMessage} close={this.handleClose} ownerName={this.props.ownerName} />\r\n        <SendOfferModal show={this.state.modalOffer} diamond={this.state.list[this.state.index]} activeUser={this.props.activeUser} addMessage={this.props.addMessage} close={this.handleClose} ownerName={this.props.ownerName} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { Container, Button } from 'react-bootstrap'\r\nimport AddDiamond from '../components/AddNewDiamond'\r\nimport DiamondList from '../components/DiamondsList'\r\nimport { user, listPrice } from '../App'\r\nimport { Diamond1 } from '../Classes/Diamond'\r\nimport DiamondNavbar from '../components/DiamondNavbar';\r\nimport diamondPic from '../data/l8cb11pkn10.jpg'\r\nimport Parse from 'parse'; \r\n\r\nimport priceList from '../data/prices.json';\r\nconst axios = require('axios').default\r\n\r\n\r\nexport class Search extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      diamondArr: [],\r\n      prices: [],\r\n      isLoading: true,\r\n      filter: {\r\n        shape: [],\r\n        colorMin: \"D\",\r\n        colorMax: \"YZ\",\r\n        clarityMin: \"FL\",\r\n        clarityMax: \"I3\",\r\n        weightMin: 0,\r\n        weightMax: 10000,\r\n        owner: false,\r\n        clearColorFilter: false,\r\n        clearClarityFilter: false\r\n      },\r\n      edit: -1\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    // let {diamondArr,isLoading,prices}=this.state;\r\n    let isLoading = true;\r\n    let diamondArr = [];\r\n    let prices = priceList;\r\n    var newDiamond;\r\n    const Diamond = Parse.Object.extend('Diamond');\r\n    const query = new Parse.Query(Diamond);\r\n    query.find().then((diamondsParse) => {\r\n      // You can use the \"get\" method to get the value of an attribute\r\n      // Ex: response.get(\"<ATTRIBUTE_NAME>\")\r\n      diamondsParse.forEach((diamond) => {\r\n        newDiamond = new Diamond1(diamond);\r\n        diamondArr = diamondArr.concat([newDiamond]);\r\n      })\r\n      isLoading = false;\r\n      this.setState({ diamondArr, isLoading, prices })\r\n    }, (error) => {\r\n\r\n      console.error('Error while fetching Diamond', error);\r\n    });\r\n  }\r\n\r\n  saveDiamond = (diamond, atEdit) => {\r\n    console.log(diamond);\r\n    let { edit, diamondArr } = this.state;\r\n\r\n    if (atEdit === -1) {\r\n\r\n      const Diamond = Parse.Object.extend('Diamond');\r\n      const myNewObject = new Diamond();\r\n\r\n      myNewObject.set('lotID', diamond.lotID);\r\n      myNewObject.set('shape', diamond.shape);\r\n      myNewObject.set('weight', Number(diamond.weight));\r\n      myNewObject.set('color', diamond.color);\r\n      myNewObject.set('clarity', diamond.clarity);\r\n      myNewObject.set('cut', diamond.cut);\r\n      myNewObject.set('polish', diamond.polish);\r\n      myNewObject.set('symmetry', diamond.symmetry);\r\n      myNewObject.set('fluorescence', diamond.fluorescence);\r\n      myNewObject.set('fluorescenceColor', diamond.fluorescenceColor);\r\n      myNewObject.set('lab', diamond.lab);\r\n      myNewObject.set('certificateNumber', diamond.certificateNumber);\r\n      myNewObject.set('depth', Number(diamond.depth));\r\n      myNewObject.set('table', Number(diamond.table));\r\n      myNewObject.set('crownAngle', Number(diamond.crownAngle));\r\n      myNewObject.set('crownHeight', Number(diamond.crownHeight));\r\n      myNewObject.set('pavillionAngle', Number(diamond.pavillionAngle));\r\n      myNewObject.set('pavillionDepth', Number(diamond.pavillionDepth));\r\n      myNewObject.set('starLength', Number(diamond.starLength));\r\n      myNewObject.set('lowerHalf', Number(diamond.lowerHalf));\r\n      myNewObject.set('girdle', diamond.girdle);\r\n      myNewObject.set('culet', diamond.culet);\r\n      myNewObject.set('list', Number(diamond.list));\r\n      myNewObject.set('discount', Number(diamond.discount));\r\n      myNewObject.set('pricePerCarat', Number(diamond.pricePerCarat));\r\n      myNewObject.set('links', diamond.links);\r\n      // myNewObject.set('inclusions',diamond.inclusions);\r\n      if (diamond.keepDiscount) {myNewObject.set('keepDiscount', true)} else {myNewObject.set('keepDiscount', false)}\r\n      // myNewObject.set('keepDiscount', diamond.keepDiscount);\r\n      myNewObject.set('diamMin', Number(diamond.diamMin));\r\n      myNewObject.set('diamMax', Number(diamond.diamMax));\r\n      myNewObject.set('deptAvg', Number(diamond.deptAvg));\r\n      myNewObject.set('owner', Parse.User.current());\r\n\r\n      if (diamond.pic1 && diamond.pic1.file) myNewObject.set('pic1', new Parse.File(diamond.pic1.name, diamond.pic1.file));\r\n      if (diamond.pic2 && diamond.pic2.file) myNewObject.set('pic2', new Parse.File(diamond.pic2.name, diamond.pic2.file));\r\n\r\n      myNewObject.save().then(\r\n        (result) => {\r\n          console.log('Diamond created', result);\r\n          diamondArr = diamondArr.concat([new Diamond1(result)]);\r\n    \r\n          edit = -1;\r\n          this.setState({ edit, diamondArr });\r\n        },\r\n        (error) => {\r\n          console.error('Error while creating Diamond: ', error);\r\n        }\r\n      );\r\n    }\r\n    else {\r\n      const Diamond = Parse.Object.extend('Diamond');\r\n      const query = new Parse.Query(Diamond);\r\n      // here you put the objectId that you want to update\r\n      query.get(diamond.id).then((object) => {\r\n        object.set('lotID', diamond.lotID);\r\n        object.set('shape', diamond.shape);\r\n        object.set('weight', Number(diamond.weight));\r\n        object.set('color', diamond.color);\r\n        object.set('clarity', diamond.clarity);\r\n        object.set('cut', diamond.cut);\r\n        object.set('polish', diamond.polish);\r\n        object.set('symmetry', diamond.symmetry);\r\n        object.set('fluorescence', diamond.fluorescence);\r\n        object.set('fluorescenceColor', diamond.fluorescenceColor);\r\n        object.set('lab', diamond.lab);\r\n        object.set('certificateNumber', diamond.certificateNumber);\r\n        object.set('depth', Number(diamond.depth));\r\n        object.set('table', Number(diamond.table));\r\n        object.set('crownAngle', Number(diamond.crownAngle));\r\n        object.set('crownHeight', Number(diamond.crownHeight));\r\n        object.set('pavillionAngle', Number(diamond.pavillionAngle));\r\n        object.set('pavillionDepth', Number(diamond.pavillionDepth));\r\n        object.set('starLength', Number(diamond.starLength));\r\n        object.set('lowerHalf', Number(diamond.lowerHalf));\r\n        object.set('girdle', diamond.girdle);\r\n        object.set('culet', diamond.culet);\r\n        object.set('list', Number(diamond.list));\r\n        object.set('discount', Number(diamond.discount));\r\n        object.set('pricePerCarat', Number(diamond.pricePerCarat));\r\n        object.set('links', diamond.links);\r\n        // object.set('inclusions',diamond.inclusions);\r\n        if (diamond.keepDiscount) {object.set('keepDiscount', true)} else {object.set('keepDiscount', false)}\r\n        object.set('diamMin', Number(diamond.diamMin));\r\n        object.set('diamMax', Number(diamond.diamMax));\r\n        object.set('deptAvg', Number(diamond.deptAvg));\r\n        object.set('owner', Parse.User.current());\r\n  \r\n        if (!diamond.pic1.file) {object.set('pic1',null)}\r\n        else if (!diamond.pic1.file[\"_name\"]){ object.set('pic1', new Parse.File(diamond.pic1.name, diamond.pic1.file)); }\r\n        else  {object.set('pic1', diamond.pic1.file)};\r\n        if (!diamond.pic2.file) {object.set('pic2',null)}\r\n        else if (!diamond.pic2.file[\"_name\"]){ object.set('pic2', new Parse.File(diamond.pic2.name, diamond.pic2.file)); }\r\n        else  {object.set('pic2', diamond.pic2.file)};       \r\n        object.save().then((response) => {\r\n          // You can use the \"get\" method to get the value of an attribute\r\n          // Ex: response.get(\"<ATTRIBUTE_NAME>\")\r\n          console.log('Updated Diamond', response);\r\n         diamondArr.splice(atEdit, 1, new Diamond1(response));\r\n          edit = -1;\r\n          this.setState({ edit, diamondArr });\r\n        }, (error) => {\r\n\r\n          console.error('Error while updating Diamond', error);\r\n        });\r\n      });\r\n\r\n    }\r\n\r\n  }\r\n\r\n  deleteDiamond = (index) => {\r\n    let { diamondArr } = this.state;\r\n    let id = diamondArr[index].id;\r\n    const Diamond = Parse.Object.extend('Diamond');\r\n    const query = new Parse.Query(Diamond);\r\n    // here you put the objectId that you want to delete\r\n    query.get(id).then((object) => {\r\n      object.destroy().then((response) => {\r\n\r\n        var newArr = diamondArr.splice(index, 1);\r\n        this.setState(newArr);\r\n        console.log('Deleted Diamond', response);\r\n      }, (error) => {\r\n\r\n        console.error('Error while deleting Diamond', error);\r\n      });\r\n    });\r\n\r\n\r\n  }\r\n  setFilter = (filter) => {\r\n    this.setState({ filter })\r\n  }\r\n  editDiamond = (index) => {\r\n    let newState = this.state;\r\n    newState.edit = index;\r\n    this.setState(newState)\r\n  }\r\n  cancelEdit = () => {\r\n    let newState = {\r\n      edit: -1\r\n    }\r\n    this.setState(newState)\r\n  }\r\n  clearFilter = () => {\r\n    let filter = {\r\n      shape: [],\r\n      colorMin: \"D\",\r\n      colorMax: \"YZ\",\r\n      clarityMin: \"FL\",\r\n      clarityMax: \"I3\",\r\n      weightMin: \"\",\r\n      weightMax: \"\",\r\n      owner: false,\r\n      clearClarityFilter: true,\r\n      clearColorFilter: true\r\n    }\r\n    this.setFilter(filter);\r\n  }\r\n  render() {\r\n    const { activeUser, handleLogout, allMessages } = this.props;\r\n    if (this.state.isLoading) return false;\r\n \r\n    return (\r\n\r\n      <Container >\r\n        <DiamondNavbar cart={this.props.cart}  allMessages={allMessages} activeUser={activeUser} handleLogout={handleLogout} />\r\n        <AddDiamond filter={this.state.filter} setFilter={this.setFilter} activeUser={activeUser} saveDiamond={this.saveDiamond} cancelEdit={this.cancelEdit} addEdit={this.addEdit} prices={this.state.prices} edit={this.state.edit} diamonds={this.state.diamondArr} />\r\n        <DiamondList cart={this.props.cart}   addToCart={this.props.addToCart}  addMessage={this.props.addMessage} clearFilter={this.clearFilter} filter={this.state.filter} setFilter={this.setFilter} ownerName={this.props.ownerName} activeUser={activeUser} deleteDiamond={this.deleteDiamond} editDiamond={this.editDiamond} list={this.state.diamondArr} />\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Search;","import React from 'react'\r\nimport { Container,Form, Button, Alert } from 'react-bootstrap'\r\nimport { Redirect } from 'react-router-dom';\r\nimport DiamondNavbar from '../components/DiamondNavbar';\r\nimport User from '../Classes/User'\r\nimport Parse from 'parse';\r\n\r\nclass LoginPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            invalidLogin: false,\r\n            successLogin: false\r\n        }\r\n\r\n        this.emailInput = React.createRef();\r\n        this.pwdInput = React.createRef();\r\n\r\n        this.login = this.login.bind(this);\r\n    }\r\n\r\n    login() {\r\n        // Pass the username and password to logIn function\r\n        Parse.User.logIn(this.emailInput.current.value,this.pwdInput.current.value).then((user) => {\r\n            // Do stuff after successful login\r\n             console.log('Logged in user', user);\r\n\r\n            const User1 = new Parse.User();\r\n            const query = new Parse.Query(User1);\r\n\r\n            // Finds the user by its ID\r\n            query.get(user.id).then((user) => {\r\n                // Updates the data we want\r\n                user.set('isLogin', true);\r\n                user.save().then((response) => {\r\n                console.log('Updated user', response);\r\n                    this.props.handleLogin(new User(user));\r\n                    this.setState({successLogin: true});\r\n\r\n\r\n            }).catch((error) => {\r\n            console.error('Error while updating user', error);\r\n            });\r\n            });\r\n\r\n        }).catch(error => {\r\n  \r\n            console.error('Error while logging in user', error);\r\n            this.setState({invalidLogin: true});\r\n        })\r\n\r\n    }\r\n\r\n    render() {\r\n        const { activeUser, handleLogout } = this.props;\r\n        if (this.state.successLogin) {\r\n            return <Redirect to=\"/home\"/>\r\n        }\r\n\r\n        return (\r\n            <Container>\r\n            <DiamondNavbar cart={this.props.cart}   allMessages={this.state.allMessages} activeUser={activeUser} handleLogout={handleLogout}/>\r\n            <div className=\"login\">\r\n                <h1>Login to Diamonds</h1>\r\n                <p>or <a href=\"#/signup\">create an account</a></p>\r\n                <Alert variant=\"danger\" show={this.state.invalidLogin}>\r\n                    Invalid email or password!\r\n                </Alert>\r\n                <Form>\r\n                    <Form.Group controlId=\"formBasicEmail\">\r\n                        <Form.Label>Email address</Form.Label>\r\n                        <Form.Control \r\n                        // value=\"pintob\" \r\n                        ref={this.emailInput} type=\"email\" placeholder=\"Enter email\"/>\r\n                        <Form.Text className=\"text-muted\">\r\n                            We'll never share your email with anyone else.\r\n                        </Form.Text>\r\n                    </Form.Group>\r\n                    <Form.Group controlId=\"formBasicPassword\">\r\n                        <Form.Label>Password</Form.Label>\r\n                        <Form.Control\r\n                        //  value=\"1397\"\r\n                          ref={this.pwdInput}  type=\"password\" placeholder=\"Password\"/>\r\n                    </Form.Group>\r\n                    <Button variant=\"success\" type=\"button\" block onClick={this.login}>\r\n                        Login\r\n                    </Button>\r\n                </Form>\r\n            </div>\r\n            </Container>\r\n        );\r\n    }\r\n}\r\nexport default LoginPage;","import React from 'react'\r\nimport { Container, Form, Button, Alert, Image } from 'react-bootstrap'\r\nimport { Redirect } from 'react-router-dom';\r\nimport DiamondNavbar from '../components/DiamondNavbar';\r\nimport User from '../Classes/User'\r\nimport Parse from 'parse';\r\n\r\nclass SignupPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            invalidLogin: false,\r\n            successLogin: false,\r\n            image: \"\"\r\n        }\r\n\r\n        this.emailInput = React.createRef();\r\n        this.pwdInput = React.createRef();\r\n        this.userInput = React.createRef();\r\n        this.lnameInput = React.createRef();\r\n        this.fnameInput = React.createRef();\r\n    }\r\n\r\n    signup = () => {\r\nconst {image}=this.state;\r\n        const user = new Parse.User()\r\n        user.set('username', this.userInput.current.value);\r\n        user.set('email', this.emailInput.current.value);\r\n        user.set('lname', this.lnameInput.current.value);\r\n        user.set('fname', this.fnameInput.current.value);\r\n        user.set('password', this.pwdInput.current.value);\r\n        user.set('isLogin', true);\r\n        if (image) user.set('pic', new Parse.File(image[\"_name\"], image.file));\r\n        user.signUp().then((user) => {\r\n\r\n            console.log('User signed up', user);\r\n            this.props.handleLogin(new User(user));\r\n            this.setState({ successLogin: true });\r\n\r\n        }).catch(error => {\r\n\r\n            console.error('Error while signing up user', error);\r\n            this.setState({ invalidLogin: true });\r\n        });\r\n\r\n    }\r\n    imgChange=(ev)=> {\r\n\r\n        let image = {};\r\n        image.file = ev.target.files[0];\r\n        if (image.file) {\r\n            image.URL = URL.createObjectURL(image.file);\r\n        } else {\r\n            image.URL = \"\";\r\n        }\r\n        this.setState({ image });\r\n    }\r\n    render() {\r\n        const { activeUser, handleLogout } = this.props;\r\n        const { image } = this.state;\r\n        if (this.state.successLogin) {\r\n            return <Redirect to=\"/home\" />\r\n        }\r\n\r\n        return (\r\n            <Container>\r\n                <DiamondNavbar cart={this.props.cart}  allMessages={this.state.allMessages} activeUser={activeUser} handleLogout={handleLogout} />\r\n                <div className=\"login\">\r\n                    <h1>SignUp to Diamonds</h1>\r\n                    <p>or <a href=\"#/login\">Allready have an accout? Login here</a></p>\r\n                    <Alert variant=\"danger\" show={this.state.invalidLogin}>\r\n                        Signup has failed! Please choose a complex password\r\n                </Alert>\r\n                    <Form>\r\n                        <Form.Group controlId=\"formBasicUsername\">\r\n                            <Form.Label>User Name</Form.Label>\r\n                            <Form.Control ref={this.userInput} type=\"text\" placeholder=\"Enter username\" />\r\n                            <Form.Text className=\"text-muted\">\r\n                            </Form.Text>\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"formBasicEmail\">\r\n                            <Form.Label>Email address</Form.Label>\r\n                            <Form.Control ref={this.emailInput} type=\"email\" placeholder=\"Enter email\" />\r\n                            <Form.Text className=\"text-muted\">\r\n                                We'll never share your email with anyone else.\r\n                        </Form.Text>\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"formBasicPassword\">\r\n                            <Form.Label>Password</Form.Label>\r\n                            <Form.Control ref={this.pwdInput} type=\"password\" placeholder=\"Password\" />\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"formBasicfname\">\r\n                            <Form.Label>First Name</Form.Label>\r\n                            <Form.Control ref={this.fnameInput} type=\"text\" placeholder=\"Enter first name\" />\r\n                            <Form.Text className=\"text-muted\">\r\n                            </Form.Text>\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"formBasiclname\">\r\n                            <Form.Label>Last Name</Form.Label>\r\n                            <Form.Control ref={this.lnameInput} type=\"text\" placeholder=\"Enter Last name\" />\r\n                            <Form.Text className=\"text-muted\">\r\n                            </Form.Text>\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"formFile1\">\r\n                            <Form.Label >\r\n                                Choose an Image file\r\n                            </Form.Label>\r\n                            Image\r\n                            <Form.Control data-id=\"1\" type=\"file\" placeholder=\"Diamond image URL\" accept=\"image/*\" onChange={this.imgChange} />\r\n                            <Image src={image.URL} style={{ width: \"15%\" }} fluid />\r\n                        </Form.Group>\r\n                        <Button variant=\"success\" type=\"button\" block onClick={this.signup}>\r\n                            Signup\r\n                    </Button>\r\n                    </Form>\r\n                </div>\r\n            </Container>\r\n        );\r\n    }\r\n}\r\nexport default SignupPage;","import React from 'react';\r\nimport { InputGroup, FormControl,Jumbotron,Container } from 'react-bootstrap'\r\nimport Cards from 'react-credit-cards';\r\n\r\n\r\n//payment form\r\nexport default class PaymentForm extends React.Component {\r\n    state = {\r\n        cvc: '',\r\n        expiry: '',\r\n        focus: '',\r\n        name: '',\r\n        number: '',\r\n    };\r\n\r\n    handleInputFocus = (e) => {\r\n        this.setState({ focus: e.target.name });\r\n    }\r\n\r\n    handleInputChange = (e) => {\r\n        const { name, value } = e.target;\r\n\r\n        this.setState({ [name]: value });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n\r\n        <Jumbotron fluid>\r\n                <Container>\r\n                    <h1>Payment</h1>\r\n                    <p>\r\n                        Please enter your credit card information\r\n                    </p>\r\n   \r\n                <Cards className=\"md-12 sm-12\"\r\n                    cvc={this.state.cvc}\r\n                    expiry={this.state.expiry}\r\n                    focus={this.state.focus}\r\n                    name={this.state.name}\r\n                    number={this.state.number}\r\n                />\r\n                <div \r\n                style={{ width: \"100%\", marginTop: \"50px\" }} \r\n                // className=\" container md-6 sm-12 mr-auto\"  \r\n                >\r\n                    <InputGroup className=\"mb-3 sm-12\">\r\n                        <FormControl\r\n                            type=\"tel\"\r\n                            name=\"number\"\r\n                            placeholder=\"Card Number\"\r\n                            aria-label=\"Card Number\"\r\n                            aria-describedby=\"basic-addon1\"\r\n                            onChange={this.handleInputChange}\r\n                            onFocus={this.handleInputFocus}\r\n                        />\r\n                    </InputGroup>\r\n                    <InputGroup className=\"mb-3 sm-6\">\r\n                        <FormControl\r\n                            type=\"number\"\r\n                            name=\"expiry\"\r\n                            placeholder=\"MMYY\"\r\n                            aria-label=\"MMYY\"\r\n                            aria-describedby=\"basic-addon1\"\r\n                            onChange={this.handleInputChange}\r\n                            onFocus={this.handleInputFocus}\r\n                        />\r\n                    </InputGroup>\r\n                    <InputGroup className=\"mb-3 sm-6\">\r\n                        <FormControl\r\n                            type=\"number\"\r\n                            name=\"cvc\"\r\n                            placeholder=\"CVC\"\r\n                            aria-label=\"CVC\"\r\n                            aria-describedby=\"basic-addon1\"\r\n                            onChange={this.handleInputChange}\r\n                            onFocus={this.handleInputFocus}\r\n                        />\r\n                    </InputGroup>\r\n                    <InputGroup className=\"mb-3 sm-12\">\r\n                        <FormControl\r\n                            type=\"text\"\r\n                            name=\"name\"\r\n                            placeholder=\"name\"\r\n                            aria-label=\"name\"\r\n                            aria-describedby=\"basic-addon1\"\r\n                            onChange={this.handleInputChange}\r\n                            onFocus={this.handleInputFocus}\r\n                        />\r\n                    </InputGroup>\r\n                </div>\r\n                </Container>\r\n            </Jumbotron>\r\n        );\r\n    }\r\n}","import React from 'react'\r\nimport { Container,Table } from 'react-bootstrap'\r\n// import { Redirect } from 'react-router-dom';\r\nimport DiamondNavbar from '../components/DiamondNavbar';\r\nimport { Diamond1 } from '../Classes/Diamond';\r\nimport Parse from 'parse';\r\nimport deleteFromCartIcon from '../data/delete-1507091-1279000.png'\r\nimport PaymentForm from '../components/PaymentForm'\r\n\r\n// import User from '../Classes/User'\r\n// import Parse from 'parse';\r\n\r\nclass ShoppingCart extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            diamondsInCart: []\r\n        }\r\n    }\r\n    componentDidMount(){\r\n            let diamondsInCart=[];\r\n            const {cart}=this.props;\r\n            const Diamond = Parse.Object.extend('Diamond');\r\n            const query = new Parse.Query(Diamond);\r\n\r\n            query.find().then((results) => {\r\n                // You can use the \"get\" method to get the value of an attribute\r\n                // Ex: response.get(\"<ATTRIBUTE_NAME>\")\r\n                results.forEach(diamond=>{\r\n                    if (cart.includes(diamond.id)) {diamondsInCart.push(new Diamond1(diamond))};\r\n                })\r\n                console.log('Diamond found', results);\r\n                this.setState({diamondsInCart});\r\n            }, (error) => {\r\n                \r\n                console.error('Error while fetching Diamond', error);\r\n            });\r\n        }\r\n        render() {\r\n            const { activeUser, handleLogout, allMessages, cart,ownerName,deleteFromCart } = this.props;\r\n            const { diamondsInCart } = this.state;\r\n            let index=-1;\r\n            let tableLines=[];\r\n            let weight,price,lineTotal,total;\r\n            let caratTotal=0;\r\n            let priceAVG=0;\r\n            total=0;\r\n            if (!diamondsInCart.length){tableLines.push(<tr key={index}><td style={{width:\"100%\"}}><h3>Your cart is empty</h3></td></tr>)}\r\n            else{\r\n            diamondsInCart.forEach(diamond=>{\r\n                index++;\r\n                weight=diamond.weight;\r\n                price=diamond.pricePerCarat;\r\n                lineTotal=weight*price;\r\n                total+=lineTotal;\r\n                caratTotal+=weight;\r\n                if (caratTotal) priceAVG=total/caratTotal;\r\n                tableLines.push(           \r\n                 <tr key={index}>\r\n                    {/* <td>{index}</td> */}\r\n                    <td style={{width:\"15%\"}}>{ownerName(diamond.owner.id)}</td>\r\n                    <td style={{width:\"15%\"}}>{`${diamond.lotID} ${diamond.shape} ${diamond.color} ${diamond.clarity}`}</td>\r\n                    <td style={{width:\"10%\"}}>{weight}</td>\r\n                    <td style={{width:\"15%\"}}>{price.toFixed(2)}</td>\r\n                    <td style={{width:\"15%\"}}>{lineTotal.toFixed(2)}</td>\r\n                    <td style={{width:\"20%\"}}><img className=\"deleteMessage\" \r\n                            onClick={()=>{\r\n                             \r\n                                    diamondsInCart.splice(index,1);\r\n                                    this.setState({diamondsInCart});\r\n                                    deleteFromCart(diamond.id);\r\n                                    \r\n                                } }\r\n                            style={{width:\"30px\"}} \r\n                            src={deleteFromCartIcon}></img></td>\r\n                </tr>)\r\n                \r\n            })\r\n            tableLines.push(           \r\n                <tr>\r\n                   {/* <td></td> */}\r\n                   <td style={{width:\"15%\"}}></td>\r\n                   <td style={{width:\"15%\"}}></td>\r\n                   <td style={{fontWeight:\"bold\",width:\"10%\"}}>{caratTotal.toFixed(2)}</td>\r\n                   <td style={{width:\"15%\"}}>{priceAVG.toFixed(2)}</td>\r\n                   <td style={{fontWeight:\"bold\",width:\"15%\"}}>{total.toFixed(2)}</td>\r\n                   <td style={{width:\"20%\"}}></td>\r\n               </tr>)           \r\n            }\r\n            return (\r\n                <Container>\r\n                    <DiamondNavbar cart={cart} allMessages={allMessages} activeUser={activeUser} handleLogout={handleLogout} />\r\n                    <h1>Shopping Cart</h1>\r\n                    <Table striped bordered hover size=\"sm\">\r\n                        <thead>\r\n                            <tr>\r\n                                {/* <th>#</th> */}\r\n                                <th style={{width:\"15%\"}}>Owner</th>\r\n                                <th style={{width:\"15%\"}}>Desc</th>\r\n                                <th style={{width:\"10%\"}}>Weight</th>\r\n                                <th style={{width:\"15%\"}}>Price</th>\r\n                                <th style={{width:\"15%\"}}>Total</th>\r\n                                <th style={{width:\"20%\"}}>Del</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {tableLines}\r\n                        </tbody>\r\n                    </Table>\r\n\r\n                    <PaymentForm/>\r\n                </Container>\r\n            );\r\n        }\r\n    }\r\n    export default ShoppingCart;","import React from 'react';\r\nimport { Container, Jumbotron, ListGroup } from 'react-bootstrap'\r\nimport messagearrived from '../data/V-512.png'\r\nimport messageread from '../data/seen-300x225.webp'\r\nimport cartIcon from '../data/flat_seo3-24-512.png'\r\nimport excelTemplet from '../data/Save_Excel_Icon.jpg'\r\nimport DiamondNavbar from '../components/DiamondNavbar';\r\n\r\nexport default class About extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n    }\r\n    render() {\r\n        const { activeUser, handleLogout, allMessages } = this.props;\r\n        return (\r\n            <Container>\r\n                <DiamondNavbar cart={this.props.cart} allMessages={allMessages} activeUser={activeUser} handleLogout={handleLogout} />\r\n                <Jumbotron fluid>\r\n                    <Container>\r\n                        <h1>About</h1>\r\n                        <p>\r\n                            this web sight has been built by Boaz Pinto as a final front end web development course project.\r\n\r\n                        </p>\r\n                        <h1>Features</h1>\r\n                        <ListGroup>\r\n                            <ListGroup.Item variant=\"primary\">Search</ListGroup.Item>\r\n                            <ListGroup.Item>show my listings - filter to owner=activeuser</ListGroup.Item>\r\n                            <ListGroup.Item>clear all filters - clear filters</ListGroup.Item>\r\n                            <ListGroup.Item>Add new Diamond - popup window to enter all diamond parameters</ListGroup.Item>\r\n                            <ListGroup.Item>Acordion - click to see aditional information and action buttons</ListGroup.Item>\r\n                            <ListGroup.Item>Hover on image to enlarge</ListGroup.Item>\r\n                            <ListGroup.Item>Delete - action button for the owner of the diamond</ListGroup.Item>\r\n                            <ListGroup.Item>Edit - action button for the owner of the diamond</ListGroup.Item>\r\n                            <ListGroup.Item>contact - action button for user to send message to the owner</ListGroup.Item>\r\n                            <ListGroup.Item>filter - filter the list of diamonds by min weight and max weight</ListGroup.Item>\r\n                            <ListGroup.Item>filter - filter the list by shapes buttons, mutiple selectio, clear all and select all</ListGroup.Item>\r\n                            <ListGroup.Item>filter - double sided range input for color and clarity</ListGroup.Item>\r\n                            <ListGroup.Item>Upload from excel <img style={{width:\"30px\"}} src={excelTemplet}></img></ListGroup.Item>\r\n                            <ListGroup.Item>Mapping excel headers with parse object keys</ListGroup.Item>\r\n                            <ListGroup.Item variant=\"warning\">Messages</ListGroup.Item>\r\n                            <ListGroup.Item>List of members, sorted by new messages and by last message date</ListGroup.Item>\r\n                            <ListGroup.Item>search a member by name or by userName</ListGroup.Item>\r\n                            <ListGroup.Item>show conversation with member as a chat style</ListGroup.Item>\r\n                            <ListGroup.Item>each message yoy send shows if it has been arrived <img style={{width:\"20px\"}} src={messagearrived}></img> or read <img style={{width:\"20px\"}}  src={messageread}></img></ListGroup.Item>\r\n                            <ListGroup.Item>Delete message you wrote will delete message both sides</ListGroup.Item>\r\n                            <ListGroup.Item>Delete message you reccieved will delete it only your side</ListGroup.Item>\r\n                            <ListGroup.Item>input field to send message</ListGroup.Item>\r\n                            <ListGroup.Item variant=\"success\">Cart<img  style={{width:\"30px\"}} src={cartIcon} ></img></ListGroup.Item>\r\n                            <ListGroup.Item>show your items in cart</ListGroup.Item>\r\n                            <ListGroup.Item>combines diamonds in cart at login</ListGroup.Item>\r\n                            <ListGroup.Item>canceling diamonds in cart that are owned by activeuser </ListGroup.Item>\r\n                            <ListGroup.Item>delete button to remove from cart</ListGroup.Item>\r\n                            <ListGroup.Item>summery of carats and prices</ListGroup.Item>\r\n                            <ListGroup.Item>credit card form that shows an image of the credit card company by the first digits of credit muber</ListGroup.Item>\r\n                            <ListGroup.Item variant=\"danger\">Login</ListGroup.Item>\r\n                            <ListGroup.Item variant=\"primary\">Signup</ListGroup.Item>\r\n                            <ListGroup.Item variant=\"success\">HomePage</ListGroup.Item>\r\n                            <ListGroup.Item>Carousel with pictures of diamonds and major diamond centers worlwide</ListGroup.Item>\r\n                        </ListGroup>\r\n                        <h1>Contact</h1>\r\n                        <p>\r\n                            Boaz Pinto - pintob@gmail.com\r\n\r\n                        </p>\r\n                    </Container>\r\n                </Jumbotron>\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\n","import React from 'react';\r\nimport { Container, Jumbotron, Table, Form, Button } from 'react-bootstrap'\r\nimport readXlsxFile from 'read-excel-file'\r\nimport DiamondNavbar from '../components/DiamondNavbar';\r\nimport Parse from 'parse';\r\nimport excelIcon from '../data/38-383271_excel-logo-png-microsoft-excel-logo-transparent-png.png'\r\nimport excelTemplet from '../data/Save_Excel_Icon.jpg'\r\nimport zipcelx from 'zipcelx';\r\n\r\n//upload diamonds from excel sheet\r\nexport default class LoadExcel extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            excelRows: [], //keep the excel data rows\r\n            headers: [], //keep the excel headers row\r\n            header: {}, //keep an object with parse diamond keys and an index that represent the column number in the excel\r\n            log1: []    // keeps the remarks log to show at the end of the upload\r\n        }\r\n\r\n    }\r\n    // internal function to save a diamond in parse. input : object with one diamond data\r\n    saveDiamond = (diamond) => {\r\n\r\n        const Diamond = Parse.Object.extend('Diamond');\r\n        const myNewObject = new Diamond();\r\n\r\n        myNewObject.set('lotID', diamond.lotID);\r\n        myNewObject.set('shape', diamond.shape);\r\n        myNewObject.set('weight', Number(diamond.weight));\r\n        myNewObject.set('color', diamond.color);\r\n        myNewObject.set('clarity', diamond.clarity);\r\n        myNewObject.set('cut', diamond.cut);\r\n        myNewObject.set('polish', diamond.polish);\r\n        myNewObject.set('symmetry', diamond.symmetry);\r\n        myNewObject.set('fluorescence', diamond.fluorescence);\r\n        myNewObject.set('fluorescenceColor', diamond.fluorescenceColor);\r\n        myNewObject.set('lab', diamond.lab);\r\n        myNewObject.set('certificateNumber', diamond.certificateNumber);\r\n        myNewObject.set('depth', Number(diamond.depth));\r\n        myNewObject.set('table', Number(diamond.table));\r\n        myNewObject.set('crownAngle', Number(diamond.crownAngle));\r\n        myNewObject.set('crownHeight', Number(diamond.crownHeight));\r\n        myNewObject.set('pavillionAngle', Number(diamond.pavillionAngle));\r\n        myNewObject.set('pavillionDepth', Number(diamond.pavillionDepth));\r\n        myNewObject.set('starLength', Number(diamond.starLength));\r\n        myNewObject.set('lowerHalf', Number(diamond.lowerHalf));\r\n        myNewObject.set('girdle', diamond.girdle);\r\n        myNewObject.set('culet', diamond.culet);\r\n        if (!diamond.list&&diamond.list!=0) diamond.list=0;\r\n        myNewObject.set('list', Number(diamond.list));\r\n        if (!diamond.list&&diamond.discount!=\"0\") diamond.discount=null;\r\n        myNewObject.set('discount', Number(diamond.discount));\r\n        myNewObject.set('pricePerCarat', Number(diamond.pricePerCarat));\r\n        myNewObject.set('links', diamond.links);\r\n        // myNewObject.set('inclusions',diamond.inclusions);\r\n        myNewObject.set('keepDiscount', false);\r\n        myNewObject.set('diamMin', Number(diamond.diamMin));\r\n        myNewObject.set('diamMax', Number(diamond.diamMax));\r\n        myNewObject.set('deptAvg', Number(diamond.deptAvg));\r\n        myNewObject.set('owner', Parse.User.current());\r\n        myNewObject.save().then(\r\n            (result) => {\r\n                console.log('Diamond created', result);\r\n            },\r\n            (error) => {\r\n                console.error('Error while creating Diamond: ', error);\r\n            }\r\n        );\r\n\r\n\r\n    }\r\n\r\n    // function to load excel data using libraary 'read-excel-file', and set the state with the headers line and the data lines\r\n    // if any excel header column match a parse diamond object key, header state i also updated with the column number (example: header={shape: 2,color:4})\r\n    loadExcelFile = (e) => {\r\n        let { excelRows, headers, header, log1 } = this.state;\r\n        excelRows = [];\r\n        headers = [];\r\n        header = {};\r\n        log1 = [];\r\n\r\n        const input = e.target;\r\n        readXlsxFile(input.files[0]).then((rows) => {\r\n            // `rows` is an array of rows\r\n            // each row being an array of cells.\r\n\r\n            headers = rows[0];\r\n            excelRows = rows.splice(1, rows.length - 1);\r\n            for (var i = 0; i < headers.length; i++) {\r\n                if ([\"shape\", \"weight\", \"color\", \"clarity\", \"lotID\", \"cut\", \"polish\", \"symmetry\",\r\n                    \"fluorescence\", \"fluorescenceColor\", \"lab\", \"certificateNumber\", \"depth\", \"table\",\r\n                    \"crownAngle\", \"crownHeight\", \"pavillionAngle\", \"pavillionDepth\", \"starLength\", \"lowerHalf\",\r\n                    \"girdle\", \"culet\", \"discount\", \"pricePerCarat\", \"diamMin\", \"diamMax\", \"deptAvg\"\r\n                ].includes(headers[i])) { header[headers[i]] = i }\r\n            }\r\n            this.setState({ excelRows, headers, header, log1 })\r\n        })\r\n    }\r\n\r\n    //when a key is picked from a list, add to header (example: header={shape: 2,color:4})\r\n    getValues = (e) => {\r\n\r\n        let { header } = this.state;\r\n        header[e.target.value] = parseInt(e.target.id);\r\n        this.setState({ header });\r\n    }\r\n\r\n    // for each row in the data, builds an object of diamond using the map built in state.header  (example: header={shape: 2,color:4,clarity:1,lotId:5}==> diamond={shape:value in column 2, color:value in column 4.......})\r\n    // attempts to upload diamonds to parse\r\n    // 6 keys are must : lotID,weight,shape,color,clarity and pricePerCarat\r\n    // for now the data is not verified\r\n    upload = () => {\r\n        const { activeUser } = this.props;\r\n        let { header, excelRows, log1 } = this.state;\r\n        const headerKeys = Object.keys(header);\r\n        let index = -1;\r\n        excelRows.forEach(row => {\r\n            //builds the diamond object with the data from excell data line\r\n            let diamond = {};\r\n            index++;\r\n            for (var i = 0; i < headerKeys.length; i++) {\r\n                if ([\"weight\", \"dept\", \"table\", \"crownAngle\", \"crownHeight\", \"pavillionAngle\", \"pavillionDept\", \"starLength\", \"lowerHalf\", \"discount\", \"pricePerCarat\", \"deptAvg\", \"diamMin\", \"diamMax\"].includes(headerKeys[i])) {\r\n                    diamond[headerKeys[i]] = Number(row[header[headerKeys[i]]])\r\n                }\r\n                // else if ([\"lotID\", \"fluorescence\", \"fluorescenceColor\", \"culet\"].includes(headerKeys[i])) {\r\n                //     diamond[headerKeys[i]] = row[header[headerKeys[i]]].toString()\r\n                // }\r\n                else if (row[header[headerKeys[i]]]) {\r\n                    diamond[headerKeys[i]] = row[header[headerKeys[i]]].toString();\r\n                }\r\n            }\r\n            diamond.owner = Parse.User.current();\r\n            if (diamond.keepDiscount || diamond.keepDiscount === \"0\" || diamond.discount) { diamond.keepDiscount = true } else { diamond.keepDiscount = false };\r\n\r\n            //checks if there ar the necesary 6 fields\r\n            if (diamond.lotID && diamond.weight && diamond.shape && diamond.color && diamond.clarity && diamond.pricePerCarat) {\r\n                log1.push(<p key={index} style={{ color: \"green\" }}>{row} is valid for upload...</p>)\r\n                this.saveDiamond(diamond);\r\n            }\r\n            else {\r\n                log1.push(<p key={index} style={{ color: \"red\" }}>{row} is not valid for upload...</p>)\r\n            }\r\n\r\n        })\r\n        //completed the upload\r\n        log1.push(<p key={index + 0.5} style={{ color: \"purple\" }}>upload process completed</p>)\r\n        this.setState({ log1 });\r\n    }\r\n    downloadTemplet=()=>{\r\n        const config = {\r\n            filename: 'diamond import templat',\r\n            sheet: {\r\n              data: [\r\n                [{  \r\n                  value:'certificateNumber',\r\n                  type: 'string'\r\n                }, {\r\n                    value:'clarity',\r\n                  type: 'string'\r\n                }, {\r\n                    value:'color',\r\n                  type: 'string'\r\n                }, {\r\n                    value:'crownAngle',\r\n                  type: 'string'\r\n                }, {\r\n                    value:'crownHeight',\r\n                  type: 'string'\r\n                }, {\r\n                    value:'culet',\r\n                  type: 'string'\r\n                }, {\r\n                    value:'cut',\r\n                  type: 'string'\r\n                }, {\r\n                    value:'depth',\r\n                  type: 'string'\r\n                }, {\r\n                    value:'diamMax',\r\n                  type: 'string'\r\n                }, {\r\n                    value:'diamMin',\r\n                  type: 'string'\r\n                }, {\r\n                    value:'deptAvg',\r\n                  type: 'string'\r\n                }, {\r\n                    value:'discount',\r\n                  type: 'string'\r\n                }, {\r\n                    value:'fluorescence',\r\n                  type: 'string'\r\n                }, {\r\n                    value:'fluorescenceColor',\r\n                  type: 'string'\r\n                }, {\r\n                    value:'girdle',\r\n                  type: 'string'\r\n                }, {\r\n                    value:'lab',\r\n                  type: 'string'\r\n                }, {\r\n                    value:'lotID',\r\n                  type: 'string'\r\n                }, {\r\n                    value:'lowerHalf',\r\n                  type: 'string'\r\n                }, {\r\n                    value:'pavillionAngle',\r\n                  type: 'string'\r\n                }, {\r\n                    value:'pavillionDepth',\r\n                  type: 'string'\r\n                }, {\r\n                    value:'polish',\r\n                  type: 'string'\r\n                }, {\r\n                    value:'pricePerCarat',\r\n                  type: 'string'\r\n                }, {\r\n                    value:'shape',\r\n                  type: 'string'\r\n                }, {\r\n                    value:'starLength',\r\n                  type: 'string'\r\n                }, {\r\n                    value:'symmetry',\r\n                  type: 'string'\r\n                }, {\r\n                    value:'table',\r\n                  type: 'string'\r\n                }, {\r\n                    value:'weight',\r\n                  type: 'string'\r\n                }],[\r\n                {  \r\n                    value:'',\r\n                    type: 'string'\r\n                  }, {\r\n                      value:'Required',\r\n                    type: 'string'\r\n                  }, {\r\n                      value:'Required',\r\n                    type: 'string'\r\n                  }, {\r\n                      value:'',\r\n                    type: 'string'\r\n                  }, {\r\n                      value:'',\r\n                    type: 'string'\r\n                  }, {\r\n                      value:'',\r\n                    type: 'string'\r\n                  }, {\r\n                      value:'',\r\n                    type: 'string'\r\n                  }, {\r\n                      value:'',\r\n                    type: 'string'\r\n                  }, {\r\n                      value:'',\r\n                    type: 'string'\r\n                  }, {\r\n                      value:'',\r\n                    type: 'string'\r\n                  }, {\r\n                      value:'',\r\n                    type: 'string'\r\n                  }, {\r\n                      value:'',\r\n                    type: 'string'\r\n                  }, {\r\n                      value:'',\r\n                    type: 'string'\r\n                  }, {\r\n                      value:'',\r\n                    type: 'string'\r\n                  }, {\r\n                      value:'',\r\n                    type: 'string'\r\n                  }, {\r\n                      value:'',\r\n                    type: 'string'\r\n                  }, {\r\n                      value:'Required',\r\n                    type: 'string'\r\n                  }, {\r\n                      value:'',\r\n                    type: 'string'\r\n                  }, {\r\n                      value:'',\r\n                    type: 'string'\r\n                  }, {\r\n                      value:'',\r\n                    type: 'string'\r\n                  }, {\r\n                      value:'',\r\n                    type: 'string'\r\n                  }, {\r\n                      value:'Required',\r\n                    type: 'string'\r\n                  }, {\r\n                      value:'Required',\r\n                    type: 'string'\r\n                  }, {\r\n                      value:'',\r\n                    type: 'string'\r\n                  }, {\r\n                      value:'',\r\n                    type: 'string'\r\n                  }, {\r\n                      value:'',\r\n                    type: 'string'\r\n                  }, {\r\n                      value:'Required',\r\n                    type: 'string'\r\n                  }\r\n            ]\r\n              ]\r\n            }\r\n          };\r\n          \r\n          zipcelx(config);\r\n    }\r\n    render() {\r\n\r\n        const { activeUser, handleLogout, allMessages } = this.props;\r\n        const { excelRows, headers, log1 } = this.state;\r\n        if (log1.length) return (\r\n            <Container>\r\n                <DiamondNavbar cart={this.props.cart} allMessages={allMessages} activeUser={activeUser} handleLogout={handleLogout} />\r\n                <Jumbotron fluid>\r\n                    <div>\r\n                        {log1}\r\n                    </div>\r\n                </Jumbotron>\r\n            </Container>\r\n        )\r\n        let tableLines = [];\r\n        let index = -1;\r\n        headers.forEach(element => {\r\n            index++;\r\n            tableLines.push(<tr key={index}>\r\n                <td>{index}</td>\r\n                <td>{element}</td>\r\n                <td id={element}>\r\n                    <Form.Group>\r\n                        <Form.Label></Form.Label>\r\n                        <Form.Control id={\"0000\" + index} onChange={this.getValues} defaultValue={element} as=\"select\">\r\n                            <option></option>\r\n                            <option>certificateNumber</option>\r\n                            <option>clarity</option>\r\n                            <option>color</option>\r\n                            <option>crownAngle</option>\r\n                            <option>crownHeight</option>\r\n                            <option>culet</option>\r\n                            <option>cut</option>\r\n                            <option>depth</option>\r\n                            <option>diamMax</option>\r\n                            <option>diamMin</option>\r\n                            <option>deptAvg</option>\r\n                            <option>discount</option>\r\n                            <option>fluorescence</option>\r\n                            <option>fluorescenceColor</option>\r\n                            <option>girdle</option>\r\n                            <option>lab</option>\r\n                            <option>lotID</option>\r\n                            <option>lowerHalf</option>\r\n                            <option>pavillionAngle</option>\r\n                            <option>pavillionDepth</option>\r\n                            <option>polish</option>\r\n                            <option>pricePerCarat</option>\r\n                            <option>shape</option>\r\n                            <option>starLength</option>\r\n                            <option>symmetry</option>\r\n                            <option>table</option>\r\n                            <option>weight</option>\r\n\r\n                        </Form.Control>\r\n                    </Form.Group></td>\r\n            </tr>)\r\n\r\n        });\r\n        return (\r\n            <Container>\r\n                <DiamondNavbar cart={this.props.cart} allMessages={allMessages} activeUser={activeUser} handleLogout={handleLogout} />\r\n                <Jumbotron fluid>\r\n                    <div style={{position:\"relative\",display:\"inline-block\",width:\"100%\"}}>\r\n                        <div  onChange={this.loadExcelFile}>\r\n                    <input className=\"excelImage\"  style={{opacity:\"0\",position:\"absolute\",top:\"-65px\",left:\"0\", width:\"30%\",height:\"80px\"}} type=\"file\" id=\"input\" />\r\n                    <img  style={{pointerEvents:\"none\",position:\"absolute\",top:\"-30px\",left:\"0\", width:\"18%\",height:\"50px\"}} src={excelIcon}></img>\r\n                    </div>\r\n                    <p style={{marginTop:\"20px\"}}>Upload Excel</p>\r\n                    <div  onClick={this.downloadTemplet} className=\"excelImage\"  style={{position:\"absolute\",top:\"-30px\",right:\"0\",height:\"50px\"}}>\r\n                    <img style={{height:\"50px\",marginLeft:\"90px\"}} src={excelTemplet}></img>\r\n                    <p>Download Template</p>\r\n                    </div>\r\n                    </div>\r\n                    <Table  >\r\n                        <thead>\r\n                            <tr>\r\n                                <th>#</th>\r\n                                <th>Excel Header</th>\r\n                                <th>Map to</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {tableLines}\r\n                        </tbody>\r\n                    </Table>\r\n                    <Button onClick={this.upload}>Upload</Button>\r\n                </Jumbotron>\r\n\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\n","import React from 'react';\nimport './App.css';\nimport './multiselect.css'\nimport { Switch, Route } from 'react-router-dom'\nimport { Home } from './pages/home'\nimport { Messages } from './pages/messages'\nimport { Search } from './pages/search.js'\nimport jsonUsers from './data/users'\nimport LoginPage from './pages/LoginPage';\nimport SignupPage from './pages/Signup'\nimport Parse from 'parse';\nimport User from './Classes/User'\nimport { Message, usersMessages } from './Classes/Message'\nimport UserMessages from '../src/components/UserMessages'\nimport ShoppingCart from '../src/pages/ShoppingCart'\nimport About from '../src/pages/About'\nimport $ from \"jquery\";\nimport LoadExcel  from './pages/Load';\n// import rapList from '../src/data/prices.json';\n\n// input: 4c's of diamond and a pricelist. output : list price of the diamond\nexport function listPrice(shape, color, clarity, weight, priceList) {\n// priceList=rapList;\n  if (shape != \"BR\" && shape != \"round\") { shape = \"pear\" } else { shape = \"round\" };\n  for (var i = 0; i < priceList.length; i++) { //searches the right price on the pricelist\n    if (shape === priceList[i].shape && color === priceList[i].color &&\n      clarity === priceList[i].clarity && weight >= Number(priceList[i].low_size) &&\n      weight <= Number(priceList[i].high_size))\n      return Number(priceList[i].caratprice);\n  }\n  return 0;\n}\n\n//returns the owner of a diamond\nfunction ownerOfDiamond(diamondId) {\n\n  const Diamond = Parse.Object.extend('Diamond');\n  const query = new Parse.Query(Diamond);\n  query.equalTo(\"objectId\", diamondId);\n  query.find().then((results) => {\n    // You can use the \"get\" method to get the value of an attribute\n    // Ex: response.get(\"<ATTRIBUTE_NAME>\")\n    results.forEach(diamond => {\n      if (diamond.id === diamondId) { alert(diamond.get(\"owner\").id); return diamond.get(\"owner\").id }\n    })\n  }, (error) => {\n\n    console.error('Error while fetching Diamond', error);\n    return false;\n  });\n}\n\n\n//main component\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      parseActive: null,\n      activeUser:\n        null,\n      allUsers: [],\n      allMessages: [],\n      isLoading: true,\n      cart: []\n    }\n\n    this.handleLogout = this.handleLogout.bind(this);\n    this.handleLogin = this.handleLogin.bind(this);\n\n\n  }\n//fetch messages related to activeuser from parse\n  getMessages = () => {\n    const { activeUser, parseActive } = this.state;\n    if (activeUser) {\n      let allMessages = [];\n\n      const parseMessages = Parse.Object.extend('Messages');\n\n      //messages from activeuser\n      const query1 = new Parse.Query(parseMessages);\n      query1.equalTo('from', parseActive);\n\n      //messages to activeuser\n      const query2 = new Parse.Query(parseMessages);\n      query2.equalTo('to', parseActive);\n\n      //messages from activeuser or to activeuser\n      const composedQuery = Parse.Query.or(query1, query2);\n\n      composedQuery.count().then((count) => {\n        //only 100 last messages\n        if (count > 100) composedQuery.skip(count - 100);\n        composedQuery.find().then((results) => {\n          // You can use the \"get\" method to get the value of an attribute\n          // Ex: response.get(\"<ATTRIBUTE_NAME>\")\n          console.log('Messages found', results);\n          let message1;\n          results.forEach(message => {\n            message1 = new Message(message);\n            //setting received to all messages to activeuser that are still marked not recieved\n            if (message1.to.id === activeUser.id && !message1.recieved) {\n              message1.recieved = true;\n              const Messages = Parse.Object.extend('Messages');\n              const query = new Parse.Query(Messages);\n              // here you put the objectId that you want to update\n              query.get(message1.id).then((object) => {\n                object.set('recieved', true);\n                object.save().then((response) => {\n                  // You can use the \"get\" method to get the value of an attribute\n                  // Ex: response.get(\"<ATTRIBUTE_NAME>\")\n\n                  console.log('Updated Messages', response);\n                }, (error) => {\n\n                  console.error('Error while updating Messages', error);\n                });\n              });\n            }\n            allMessages.push(message1);\n\n          });\n          this.setState({ allMessages });\n        }, (error) => {\n          console.error('Error while fetching Messages', error);\n        });\n\n      })\n    }\n  }\n\n\n  componentDidMount() {\n\n    //set interval for short time will read messages again and agin and will be more live\n    // setInterval(this.getMessages, 3000000000);\n\n    if (Parse.User.current()) { \n      this.handleLogin(new User(Parse.User.current()));\n      this.setState({ successLogin: true });\n    }\n\n//retrieving all users\n    let allUsers = [];\n    const parseUser = new Parse.User();\n    const query = new Parse.Query(parseUser);\n\n    query.find().then((users) => {\n      console.log('User found', users);\n      users.forEach(user => {\n        allUsers.push(new User(user))\n        this.setState({ allUsers });\n      })\n    }, (error) => {\n      console.error('Error while fetching user', error);\n    });\n\n  }\n\n\n  handleLogout() {\n    const User1 = new Parse.User();\n    const query = new Parse.Query(User1);\n    const { activeUser } = this.state;\n    let { cart } = this.state;\n    // Finds the user by its ID\n    query.get(activeUser.id).then((user) => {\n      // Updates the data we want\n\n      user.set('isLogin', false);\n      user.set('lastLogout', new Date());\n\n      // Saves the user with the updated data\n      user.save().then((response) => {\n        console.log('Updated user logout', response);\n        Parse.User.logOut();\n      }).catch((error) => {\n\n        console.error('Error while updating user', error);\n      });\n    });\n    cart = [];\n    this.setState({ activeUser: null, cart });\n  }\n\n  //at login retrieving the activeuser cart and merging with the current unregisterd user cart\n  //diamonds in the unregistered user cart that are owned by activeuser will be deleted from cart\n  handleLogin(activeUser) {\n\n    let { cart } = this.state;\n\n    //if prelogin cart is empty\n    if (cart === []) {\n      cart = activeUser.cart;\n      this.setState({ activeUser, cart });\n      this.getMessages();\n    }\n\n    //if prelogin cart is not empty and loginuser cart is not empty\n    else if (activeUser.cart) {\n      const Diamond = Parse.Object.extend('Diamond');\n      const query = new Parse.Query(Diamond);\n      // query.equalTo(\"objectId\", cart[i]);\n      query.find().then((results) => {\n        // You can use the \"get\" method to get the value of an attribute\n        // Ex: response.get(\"<ATTRIBUTE_NAME>\")\n\n        for (var i = 0; i < cart.length; i++) {\n          if (!activeUser.cart.includes(cart[i])) {\n            let ownerD;\n            for (var j = 0; j < results.length; j++) {\n              if (cart[i] === results[j].id) { ownerD = results[j].get(\"owner\").id; break }\n            }\n            if (ownerD != activeUser.id) { activeUser.cart.push(cart[i]) };\n          }\n        }\n        cart = activeUser.cart;\n\n        const User = new Parse.User();\n        const query = new Parse.Query(User);\n\n        // Finds the user by its ID\n        query.get(activeUser.id).then((user) => {\n          // Updates the data we want\n          let { parseActive } = this.state;\n          parseActive = user;\n          user.set('cart', cart);\n          // Saves the user with the updated data\n          user.save().then((response) => {\n\n            console.log('Updated user', response);\n          }).catch((error) => {\n\n            console.error('Error while updating user', error);\n          });\n          this.setState({ activeUser, cart, parseActive });\n          this.getMessages();\n        });\n      }, (error) => {\n\n        console.error('Error while fetching Diamond', error);\n\n      });\n\n    }\n     //if prelogin cart is not empty and loginuser cart is empty\n    else {\n      const User = new Parse.User();\n      const query = new Parse.Query(User);\n\n      // Finds the user by its ID\n      query.get(activeUser.id).then((user) => {\n        // Updates the data we want\n        user.set('cart', cart);\n        // Saves the user with the updated data\n        user.save().then((response) => {\n\n          console.log('Updated user', response);\n          this.setState({ activeUser, cart });\n          this.getMessages();\n        }).catch((error) => {\n\n          console.error('Error while updating user', error);\n        });\n      });\n    }\n  }\n\n  //gets owner id and returns owner name\n  ownerName = (userId) => {\n    for (var i = 0; i < this.state.allUsers.length; i++) {\n      if (this.state.allUsers[i].id == userId) return this.state.allUsers[i].fname + \" \" + this.state.allUsers[i].lname\n    }\n\n  }\n  //delete message both sides. happens when the sender is the one that deletes the message\n  deleteMessage = (id) => {\n    let { allMessages } = this.state;\n    const Messages = Parse.Object.extend('Messages');\n    const query = new Parse.Query(Messages);\n    // here you put the objectId that you want to delete\n    query.get(id).then((object) => {\n      object.destroy().then((response) => {\n\n        console.log('Deleted Messages', response);\n        for (var i = 0; i < allMessages.length; i++) {\n          if (id === allMessages[i].id) {\n            allMessages.splice(i, 1);\n            break;\n          }\n        }\n        this.setState({ allMessages });\n      }, (error) => {\n\n        console.error('Error while deleting Messages', error);\n      });\n    });\n  }\n\n  //marks the message deleted. it will not show only in the recieving side at conversation. happens when\n  //the receiving side initiated the delete\n  markDeleted = (id) => {\n    let { allMessages } = this.state;\n    const Messages = Parse.Object.extend('Messages');\n    const query = new Parse.Query(Messages);\n    // here you put the objectId that you want to update\n    query.get(id).then((object) => {\n      object.set('deleted', true);\n      object.save().then((response) => {\n        // You can use the \"get\" method to get the value of an attribute\n        // Ex: response.get(\"<ATTRIBUTE_NAME>\")\n\n        console.log('Updated Messages', response);\n        for (var i = 0; i < allMessages.length; i++) {\n          if (id === allMessages[i].id) {\n            allMessages.splice(i, 1);\n            break;\n          }\n        }\n        this.setState({ allMessages });\n      }, (error) => {\n\n        console.error('Error while updating Messages', error);\n      });\n    });\n  }\n\n  //add message\n  addMessage = (text, fromID, toID) => {\n\n    let { allMessages } = this.state;\n    const User2 = new Parse.User();\n    const User1 = new Parse.User();\n    const query2 = new Parse.Query(User2);\n    const query1 = new Parse.Query(User1);\n    let from, to;\n\n    query1.get(fromID).then((from1) => {\n      from = from1;\n      console.log('User found', from1);\n      query2.get(toID).then((to1) => {\n        to = to1;\n        console.log('User found', to1);\n\n        const Messages = Parse.Object.extend('Messages');\n        const myNewObject = new Messages();\n        myNewObject.set('from', from);\n        myNewObject.set('to', to);\n        myNewObject.set('text', text);\n        myNewObject.set('read', false);\n        myNewObject.set('deleted', false);\n        myNewObject.set('recieved', false);\n        myNewObject.save().then(\n          (result) => {\n            console.log('Messages created', result);\n            allMessages.push(new Message(result));\n            this.setState({ allMessages });\n            // alert(\"The Message: '\"+text+\"' has been sent\");\n\n          },\n          (error) => {\n            console.error('Error while creating Messages: ', error);\n          });\n      }, (error) => {\n\n        console.error('Error while fetching user', error);\n      });\n\n    }, (error) => {\n\n      console.error('Error while fetching user', error);\n    });\n\n  }\n\n  //mark all messages in conversation that are still not read as read\n  messageRead = (message) => {\n    const Messages = Parse.Object.extend('Messages');\n    const query = new Parse.Query(Messages);\n    // here you put the objectId that you want to update\n    let { allMessages } = this.state;\n    for (var i = 0; i < allMessages.length; i++) {\n      if (allMessages[i].id === message.id) {\n        allMessages[i].read = true;\n        break;\n      }\n    }\n    query.get(message.id).then((object) => {\n      object.set('read', true);\n      object.save().then((response) => {\n        // You can use the \"get\" method to get the value of an attribute\n        // Ex: response.get(\"<ATTRIBUTE_NAME>\")\n        console.log('Updated Messages', response);\n      }, (error) => {\n        console.error('Error while updating Messages', error);\n      });\n    });\n    this.setState({ allMessages });\n  }\n\n  //add to cart a diamond\n  addToCart = (diamondId) => {\n    let { activeUser, cart } = this.state;\n    if (!cart) cart = [];\n    if (!cart.includes(diamondId)) {\n      cart.push(diamondId);\n   \n      if (activeUser) {\n        const User = new Parse.User();\n        const query = new Parse.Query(User);\n\n        // Finds the user by its ID\n        query.get(activeUser.id).then((user) => {\n          // Updates the data we want\n          user.set('cart', cart);\n          // Saves the user with the updated data\n          user.save().then((response) => {\n\n            console.log('Updated user', response);\n          }).catch((error) => {\n\n            console.error('Error while updating user', error);\n          });\n        });\n\n      }\n    }\n    this.setState({ cart });\n  }\n\n  //delete from cart\n  deleteFromCart = (item) => {\n    let { cart, activeUser } = this.state;\n    var index = cart.indexOf(item);\n    if (index > -1) {\n      cart.splice(index, 1);\n      if (!activeUser) {\n        this.setState({ cart })\n      }\n      else {\n        const User = new Parse.User();\n        const query = new Parse.Query(User);\n\n        // Finds the user by its ID\n        query.get(activeUser.id).then((user) => {\n          // Updates the data we want\n          user.set('cart', cart);\n          // Saves the user with the updated data\n          user.save().then((response) => {\n            console.log('Updated user', response);\n            this.setState({ cart })\n          }).catch((error) => {\n            console.error('Error while updating user', error);\n          });\n        });\n      }\n    }\n  }\n  render() {\n\n    const { activeUser, allUsers, isLoading, allMessages, cart } = this.state;\n\n    return (\n\n\n      <Switch>\n        <Route exact path=\"/\" ><Home cart={cart} allMessages={allMessages} activeUser={activeUser} handleLogout={this.handleLogout}></Home></Route>\n        <Route exact path=\"/home\" ><Home cart={cart} allMessages={allMessages} activeUser={activeUser} handleLogout={this.handleLogout}></Home></Route>\n        <Route exact path=\"/messages\" ><Messages cart={cart} allMessages={allMessages} allUsers={allUsers} activeUser={activeUser} handleLogout={this.handleLogout}></Messages></Route>\n        <Route exact path=\"/messages/:id\" ><UserMessages cart={cart} markDeleted={this.markDeleted} deleteMessage={this.deleteMessage} messageRead={this.messageRead} addMessage={this.addMessage} allMessages={allMessages} allUsers={allUsers} activeUser={activeUser} handleLogout={this.handleLogout}></UserMessages></Route>\n        <Route exact path=\"/search\"><Search cart={cart} addToCart={this.addToCart} addMessage={this.addMessage} allMessages={allMessages} ownerName={this.ownerName} activeUser={activeUser} handleLogout={this.handleLogout}></Search></Route>\n        <Route exact path=\"/login\"> <LoginPage cart={cart} allMessages={allMessages} handleLogout={this.handleLogout} activeUser={activeUser} users={allUsers} handleLogin={this.handleLogin}></LoginPage></Route>\n        <Route exact path=\"/signup\"> <SignupPage cart={cart} allMessages={allMessages} handleLogout={this.handleLogout} activeUser={activeUser} users={allUsers} handleLogin={this.handleLogin}></SignupPage></Route>\n        <Route exact path=\"/cart\"><ShoppingCart deleteFromCart={this.deleteFromCart} cart={cart} allMessages={allMessages} ownerName={this.ownerName} activeUser={activeUser} handleLogout={this.handleLogout}></ShoppingCart></Route>\n        <Route exact path=\"/home\" ><Home cart={cart} allMessages={allMessages} activeUser={activeUser} handleLogout={this.handleLogout}></Home></Route>\n        <Route exact path=\"/about\" ><About cart={cart} allMessages={allMessages} allUsers={allUsers} activeUser={activeUser} handleLogout={this.handleLogout}></About></Route>\n        <Route exact path=\"/load\" ><LoadExcel cart={cart} allMessages={allMessages} allUsers={allUsers} activeUser={activeUser} handleLogout={this.handleLogout}></LoadExcel></Route>\n      </Switch>\n\n      // </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport Parse from 'parse';\nimport 'react-credit-cards/es/styles-compiled.css';\n\n\nParse.serverURL = 'https://parseapi.back4app.com'; // This is your Server URL\nParse.initialize(\n  'qQ2AMgDUa2kxuxt0HEsorOw7uB5vXOhipV8Zm6CF', // This is your Application ID\n  'LUBw95iUPTq6eBVPdBhmC4WKPKJgIRPniD2ditwl' // This is your Javascript key\n);\n\n\nReactDOM.render(<HashRouter><App /></HashRouter>, document.getElementById('root'));\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}